<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2. La Verdad Oculta: Ventas vs.&nbsp;Demanda – Arquitectura de suministros</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cap-3-abcxyz-dinamico.html" rel="next">
<link href="./cap-1-auditoria.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6d7b16145a975a9b09f17f801b1fce15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-1d61feaf5942a89f67c517e5b1b3c91a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-6d7b16145a975a9b09f17f801b1fce15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-1-auditoria.html">I: El Diagnóstico</a></li><li class="breadcrumb-item"><a href="./cap-2-espejo-realidad.html"><span class="chapter-title">2. La Verdad Oculta: Ventas vs.&nbsp;Demanda</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Arquitectura de suministros</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenido</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">I: El Diagnóstico</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-1-auditoria.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">1. Auditoría de Datos y Arquitectura de Red</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-2-espejo-realidad.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">2. La Verdad Oculta: Ventas vs.&nbsp;Demanda</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-3-abcxyz-dinamico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-4-metricas-error.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">II: Prediciendo el Futuro</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-5-pronostico-ingenuo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-6-suavizamiento-exponencial.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">6. Suavizando la Curva: La Inteligencia Estadística</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-7-arima-y-alternativas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">7. Tendencia y Estacionalidad: El Modelo de Holt-Winters</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">III: El Arsenal del Científico de Datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-8-ingenieria-atributos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">8. Machine Learning: Más allá de la Autocorrelación</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-9-bosque-decisiones.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">9. El Rey de la Colina: Random Forest, XGBoost y LightGBM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-10-validacion-overfitting.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">10. La Carrera de Caballos: Selección Automática de Modelos</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">IV: La Ciencia del Stock</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-11-costos-inventario.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">11. El Pulso del Capital: Finanzas, Rotación y el Costo de la Incertidumbre</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-12-eoq-punto-reorden.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">12. El Paso del Pronóstico a la Orden</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-13-stock-seguridad.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">13. Bienvenidos al Mundo Estocástico</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-14-demandas-erraticas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">14. Más allá de la Curva Normal</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">V: Simulaciones y Redes Complejas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-15-monte-carlo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">15. El Laboratorio Virtual</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-16-efecto-domino-meio.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">16. El Efecto Dominó</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-17-sim-opt-politica-perfecta.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">17. Optimizando bajo Presión</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">VI: El Factor Humano y la Ejecución</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-18-fva-valor-pronostico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">18. ¿Aportamos Valor? (Forecast Value Added)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-19-gestion-sesgos-humanos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">19. El Algoritmo vs.&nbsp;el Ego: Gestión de Sesgos Humanos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-20-plan-maestro-sop.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">20. El Plan Maestro (S&amp;OP)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./notas-finales-estrategia.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Notas y Recomendaciones Estratégicas</span></a>
  </div>
</li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>Creado con <a href="https://quarto.org/">Quarto</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#la-trampa-del-espejo-por-qué-las-ventas-no-son-demanda" id="toc-la-trampa-del-espejo-por-qué-las-ventas-no-son-demanda" class="nav-link active" data-scroll-target="#la-trampa-del-espejo-por-qué-las-ventas-no-son-demanda">2.1 La Trampa del Espejo: Por qué las Ventas no son Demanda</a>
  <ul class="collapse">
  <li><a href="#el-círculo-vicioso-de-la-ineficiencia-sesgo-de-supervivencia" id="toc-el-círculo-vicioso-de-la-ineficiencia-sesgo-de-supervivencia" class="nav-link" data-scroll-target="#el-círculo-vicioso-de-la-ineficiencia-sesgo-de-supervivencia">El Círculo Vicioso de la Ineficiencia (Sesgo de Supervivencia)</a></li>
  </ul></li>
  <li><a href="#la-anatomía-de-la-venta-perdida-lost-sales" id="toc-la-anatomía-de-la-venta-perdida-lost-sales" class="nav-link" data-scroll-target="#la-anatomía-de-la-venta-perdida-lost-sales">2.2 La Anatomía de la Venta Perdida (Lost Sales)</a>
  <ul class="collapse">
  <li><a href="#fórmulas-de-reconstrucción-del-arquitecto" id="toc-fórmulas-de-reconstrucción-del-arquitecto" class="nav-link" data-scroll-target="#fórmulas-de-reconstrucción-del-arquitecto">Fórmulas de Reconstrucción del Arquitecto</a></li>
  </ul></li>
  <li><a href="#simulador-el-efecto-mutilación-del-stockout" id="toc-simulador-el-efecto-mutilación-del-stockout" class="nav-link" data-scroll-target="#simulador-el-efecto-mutilación-del-stockout">2.3 Simulador: El Efecto “Mutilación” del Stockout</a></li>
  <li><a href="#limpieza-de-la-señal-el-ruido-de-las-promociones-y-eventos" id="toc-limpieza-de-la-señal-el-ruido-de-las-promociones-y-eventos" class="nav-link" data-scroll-target="#limpieza-de-la-señal-el-ruido-de-las-promociones-y-eventos">2.4 Limpieza de la Señal: El Ruido de las Promociones y Eventos</a></li>
  <li><a href="#iii.-el-mundo-industrial-proyectos-y-clientes-internos" id="toc-iii.-el-mundo-industrial-proyectos-y-clientes-internos" class="nav-link" data-scroll-target="#iii.-el-mundo-industrial-proyectos-y-clientes-internos">III. El Mundo Industrial: Proyectos y Clientes Internos</a>
  <ul class="collapse">
  <li><a href="#el-concepto-pep-inventario-con-dueño" id="toc-el-concepto-pep-inventario-con-dueño" class="nav-link" data-scroll-target="#el-concepto-pep-inventario-con-dueño">2.5 El concepto PEP: Inventario con Dueño</a></li>
  <li><a href="#fecha-de-necesidad-vs.-fecha-de-entrega-la-verdadera-señal" id="toc-fecha-de-necesidad-vs.-fecha-de-entrega-la-verdadera-señal" class="nav-link" data-scroll-target="#fecha-de-necesidad-vs.-fecha-de-entrega-la-verdadera-señal">2.6 Fecha de Necesidad vs.&nbsp;Fecha de Entrega: La Verdadera Señal</a></li>
  </ul></li>
  <li><a href="#el-costo-financiero-de-la-ignorancia-del-dato-al-pl" id="toc-el-costo-financiero-de-la-ignorancia-del-dato-al-pl" class="nav-link" data-scroll-target="#el-costo-financiero-de-la-ignorancia-del-dato-al-pl">2.7 El Costo Financiero de la Ignorancia: Del Dato al P&amp;L</a></li>
  <li><a href="#important-plan-de-acción-sincronización-operativa" id="toc-important-plan-de-acción-sincronización-operativa" class="nav-link" data-scroll-target="#important-plan-de-acción-sincronización-operativa">Important Plan de Acción: Sincronización Operativa</a></li>
  <li><a href="#checklist-de-cierre-del-capítulo" id="toc-checklist-de-cierre-del-capítulo" class="nav-link" data-scroll-target="#checklist-de-cierre-del-capítulo">Checklist de Cierre del Capítulo</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/edit/main/cap-2-espejo-realidad.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-1-auditoria.html">I: El Diagnóstico</a></li><li class="breadcrumb-item"><a href="./cap-2-espejo-realidad.html"><span class="chapter-title">2. La Verdad Oculta: Ventas vs.&nbsp;Demanda</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">2. La Verdad Oculta: Ventas vs.&nbsp;Demanda</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p>En el Capítulo 1, limpiamos el “maestro de materiales” y aseguramos que los cimientos de nuestros datos fueran sólidos. Ahora, debemos enfrentar la pregunta más crítica y, a menudo, la más ignorada de la planificación: <strong>¿Qué estamos intentando predecir realmente?</strong></p>
<p>Muchos profesionales de la cadena de suministro cometen el error fundamental de intentar predecir las <strong>Ventas</strong>. A primera vista, parece la métrica más lógica; después de todo, es lo que genera ingresos y lo que el departamento de contabilidad audita. Sin embargo, en la arquitectura de suministros, predecir las ventas es como intentar conducir un vehículo a alta velocidad mirando únicamente por el espejo retrovisor mientras este está completamente empañado. Las ventas nos dicen qué pudimos hacer dadas nuestras limitaciones; la demanda nos dice qué pudimos haber hecho si hubiéramos sido perfectos. En este capítulo, aprenderemos a ver a través de la neblina para encontrar la <strong>Demanda Real</strong> o <strong>Demanda No Restringida</strong>.</p>
<section id="la-trampa-del-espejo-por-qué-las-ventas-no-son-demanda" class="level2">
<h2 class="anchored" data-anchor-id="la-trampa-del-espejo-por-qué-las-ventas-no-son-demanda">2.1 La Trampa del Espejo: Por qué las Ventas no son Demanda</h2>
<p>La diferencia entre Ventas y Demanda es la distancia abismal que separa la <strong>realidad observada</strong> del <strong>potencial teórico del mercado</strong>. Confundirlas no es un error semántico; es un error de diseño que cuesta millones en márgenes perdidos.</p>
<ul>
<li><p><strong>Venta:</strong> Es un evento transaccional condicionado. Es una coincidencia afortunada entre el deseo del cliente y la disponibilidad física del producto. Solo vendes lo que tienes el privilegio de tener en el estante en el momento preciso. La venta es “demanda restringida” por tus propias ineficiencias.</p></li>
<li><p><strong>Demanda No Restringida (Real):</strong> Es el flujo incesante del deseo de compra del cliente. Es independiente de tu capacidad de respuesta. La demanda no se detiene porque tú te hayas quedado sin existencias; simplemente se vuelve invisible para tus sistemas, o peor aún, se traslada silenciosamente a tu competencia.</p></li>
</ul>
<p><span class="math display">\[
\text{Venta} = \min(\text{Demanda No Restringida}, \text{Inventario Disponible})
\]</span></p>
<section id="el-círculo-vicioso-de-la-ineficiencia-sesgo-de-supervivencia" class="level3">
<h3 class="anchored" data-anchor-id="el-círculo-vicioso-de-la-ineficiencia-sesgo-de-supervivencia">El Círculo Vicioso de la Ineficiencia (Sesgo de Supervivencia)</h3>
<p>Imagina que un cliente entra a tu tienda buscando comprar 10 unidades de un producto específico, pero tú solo tienes 2 en stock. El cliente compra esas 2 unidades porque las necesita con urgencia. Tu reporte de ventas dirá “2”. Si alimentas tu modelo con ese “2”, el modelo “aprenderá” que el mercado solo tiene apetito por 2 unidades. En el próximo ciclo, el sistema sugerirá comprar solo 2 unidades (o menos, si aplicas un factor de seguridad conservador), garantizando que vuelvas a quebrar el stock ante el próximo cliente que necesite 10.</p>
<p>Este fenómeno se conoce como <strong>Sesgo de Supervivencia de Datos</strong>. Estamos optimizando la cadena para repetir nuestros fracasos pasados en lugar de capturar nuestro potencial futuro. El Arquitecto de la Demanda debe ser capaz de “descapar” este techo de cristal.</p>
</section>
</section>
<section id="la-anatomía-de-la-venta-perdida-lost-sales" class="level2">
<h2 class="anchored" data-anchor-id="la-anatomía-de-la-venta-perdida-lost-sales">2.2 La Anatomía de la Venta Perdida (Lost Sales)</h2>
<p>Como Arquitectos de la Demanda, nuestra misión es <strong>reconstruir la señal</strong> a partir de los fragmentos de las ventas. Para ello, debemos identificar y cuantificar la <strong>Venta Perdida</strong>. Este concepto es la “materia oscura” de la logística: no se ve, pero ejerce una presión enorme sobre el resultado final.</p>
<p>La venta perdida se produce principalmente por tres fallos sistémicos:</p>
<ol type="1">
<li><p><strong>Quiebres de Stock (Stockouts):</strong> El inventario físico llegó a cero absoluto en el sistema y en la realidad. Es el fallo más evidente pero el más difícil de recuperar si no se marca el evento en la serie de tiempo.</p></li>
<li><p><strong>Exhibición Deficiente e Inventario Fantasma (Ghost Inventory):</strong> Este es un problema de integridad de datos. Tu sistema dice que tienes 5 unidades, pero estas están en el fondo de una caja mal ubicada en la bodega, o rotas, o quizás fueron robadas. Para el cliente, el producto no existe. El sistema no genera una orden de compra porque “cree” que hay stock, pero no vendes porque no hay disponibilidad física. Es un quiebre silencioso.</p></li>
<li><p><strong>Incapacidad Logística y Promesa de Entrega:</strong> En el mundo del e-commerce, una promesa de entrega de 7 días cuando la competencia entrega en 2 es una venta perdida garantizada. El cliente “demanda” el producto, pero lo adquiere en otro lugar debido a la restricción de tu servicio.</p></li>
</ol>
<section id="fórmulas-de-reconstrucción-del-arquitecto" class="level3">
<h3 class="anchored" data-anchor-id="fórmulas-de-reconstrucción-del-arquitecto">Fórmulas de Reconstrucción del Arquitecto</h3>
<p>Existen métodos matemáticos para limpiar la señal de venta y estimar la demanda no restringida. Un Arquitecto no usa solo un método; los combina según la categoría.</p>
<section id="a.-método-de-sustitución-temporal-flat-line-correction" class="level4">
<h4 class="anchored" data-anchor-id="a.-método-de-sustitución-temporal-flat-line-correction">A. Método de Sustitución Temporal (Flat-line Correction)</h4>
<p>Este es el método estándar para productos de alta rotación. Si un producto tuvo stock cero durante $n$ días de un mes, no podemos promediar el mes completo incluyendo ceros. Debemos proyectar la tasa de venta de los días “saludables” sobre los días “enfermos”.</p>
<p><span class="math display">\[
\hat{D}_{\text{total}} = \left( \frac{\sum \text{Ventas en días con stock}}{\text{Días con stock}} \right) \times \text{Días totales del periodo}
\]</span></p>
<p><em>Ejemplo:</em> Si vendiste 100 unidades en los 20 días que tuviste stock, tu tasa de venta es 5 unidades/día. Si el mes tiene 30 días, tu Demanda No Restringida estimada es 150, no 100.</p>
</section>
<section id="b.-modelo-de-tasa-de-captura-y-tráfico" class="level4">
<h4 class="anchored" data-anchor-id="b.-modelo-de-tasa-de-captura-y-tráfico">B. Modelo de Tasa de Captura y Tráfico</h4>
<p>Utilizado en tiendas físicas donde conocemos el flujo de clientes (tráfico) gracias a sensores, pero el producto falló:</p>
<p>$$\hat{D} = \text{Tráfico Total} \times \text{Tasa de Conversión Histórica del SKU}$$</p>
<p>Este método es más preciso que la sustitución temporal porque detecta si el día del quiebre hubo un tráfico inusual (por ejemplo, un feriado) que habría disparado las ventas mucho más allá del promedio.</p>
</section>
</section>
</section>
<section id="simulador-el-efecto-mutilación-del-stockout" class="level2">
<h2 class="anchored" data-anchor-id="simulador-el-efecto-mutilación-del-stockout">2.3 Simulador: El Efecto “Mutilación” del Stockout</h2>
<p>Usa este simulador para visualizar cómo un quiebre de stock deforma la realidad. Observa cómo la señal azul (ventas) se vuelve “plana” cuando choca contra el techo del inventario, ocultando la verdadera forma de la demanda (línea gris).</p>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="67" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 66;"><span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>jStat <span class="op">=</span> <span class="pp">require</span>(<span class="st">"jstat@1.9.6"</span>)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>Plotly <span class="op">=</span> <span class="pp">require</span>(<span class="st">"plotly.js-dist-min@2.24.1"</span>)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>viewof inventory_cap <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">10</span><span class="op">,</span> <span class="dv">150</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Capacidad de Inventario (Techo):"</span>})</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>viewof demand_volatility <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">5</span><span class="op">,</span> <span class="dv">40</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Volatilidad de la Demanda:"</span>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="panel-fill panel-grid g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="g-col-24">
<div class="cell panel-fill">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="78" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 77;"><span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>sim_demand_data <span class="op">=</span> {</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">60</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> pattern <span class="op">=</span> <span class="dv">100</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(i<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span> <span class="dv">45</span><span class="op">;</span> </span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> noise <span class="op">=</span> jStat<span class="op">.</span><span class="at">normal</span><span class="op">.</span><span class="fu">sample</span>(<span class="dv">0</span><span class="op">,</span> demand_volatility)<span class="op">;</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> real_demand <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> pattern <span class="op">+</span> noise)<span class="op">;</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> sales <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(real_demand<span class="op">,</span> inventory_cap)<span class="op">;</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>    data<span class="op">.</span><span class="fu">push</span>({ <span class="dt">t</span><span class="op">:</span> i<span class="op">,</span> <span class="dt">demand</span><span class="op">:</span> real_demand<span class="op">,</span> <span class="dt">sales</span><span class="op">:</span> sales })<span class="op">;</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> container <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div style="width:100%; height:450px;"&gt;&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> traces <span class="op">=</span> [</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> sim_demand_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">t</span>)<span class="op">,</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> sim_demand_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">demand</span>)<span class="op">,</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>      <span class="dt">name</span><span class="op">:</span> <span class="st">'Demanda No Restringida'</span><span class="op">,</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">'scatter'</span><span class="op">,</span> <span class="dt">mode</span><span class="op">:</span> <span class="st">'lines'</span><span class="op">,</span> <span class="dt">line</span><span class="op">:</span> {<span class="dt">color</span><span class="op">:</span> <span class="st">'#cbd5e1'</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">dash</span><span class="op">:</span> <span class="st">'dot'</span>}</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> sim_demand_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">t</span>)<span class="op">,</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> sim_demand_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">sales</span>)<span class="op">,</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>      <span class="dt">name</span><span class="op">:</span> <span class="st">'Venta Registrada (Mutilada)'</span><span class="op">,</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">'scatter'</span><span class="op">,</span> <span class="dt">mode</span><span class="op">:</span> <span class="st">'lines'</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">'tozeroy'</span><span class="op">,</span> <span class="dt">line</span><span class="op">:</span> {<span class="dt">color</span><span class="op">:</span> <span class="st">'#2563eb'</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">3</span>}</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(container<span class="op">,</span> traces<span class="op">,</span> {</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> <span class="st">'Impacto del Inventario en la Señal de Datos'</span><span class="op">,</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>    <span class="dt">template</span><span class="op">:</span> <span class="st">'plotly_white'</span><span class="op">,</span> </span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> {<span class="dt">t</span><span class="op">:</span><span class="dv">50</span>}<span class="op">,</span> </span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovermode</span><span class="op">:</span> <span class="st">'x unified'</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> container<span class="op">;</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>La Mentira de los Datos Planos
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cuando la línea azul se vuelve plana, has alcanzado tu capacidad logística, no la del mercado. Si dejas que el algoritmo use esos datos, el modelo de pronóstico calculará una desviación estándar muy baja (porque el dato es plano y “predecible”). Esto te llevará a reducir el stock de seguridad, provocando aún más quiebres en el futuro. Es una espiral de muerte operativa.</p>
</div>
</div>
</section>
<section id="limpieza-de-la-señal-el-ruido-de-las-promociones-y-eventos" class="level2">
<h2 class="anchored" data-anchor-id="limpieza-de-la-señal-el-ruido-de-las-promociones-y-eventos">2.4 Limpieza de la Señal: El Ruido de las Promociones y Eventos</h2>
<p>Las promociones inyectan un ruido que puede ser tan peligroso como un quiebre de stock si no se trata quirúrgicamente:</p>
<ul>
<li><p><strong>Efecto Canibalización:</strong> La oferta del Producto A destruye la venta del Producto B. Si no limpias la caída del B, el sistema creerá que el interés por el líder está muriendo y dejará de comprarlo.</p></li>
<li><p><strong>Efecto Forward Buying:</strong> El cliente aprovecha el descuento de hoy para comprar el suministro de los próximos 3 meses. Verás un pico masivo hoy seguido de un “valle de la muerte” en los meses siguientes.</p></li>
<li><p><strong>Efecto Halo:</strong> La promoción de pañales arrastra la venta de toallitas húmedas aunque estas no tengan descuento.</p></li>
</ul>
</section>
<section id="iii.-el-mundo-industrial-proyectos-y-clientes-internos" class="level2">
<h2 class="anchored" data-anchor-id="iii.-el-mundo-industrial-proyectos-y-clientes-internos">III. El Mundo Industrial: Proyectos y Clientes Internos</h2>
<p>En la industria pesada, la manufactura compleja o la minería, el paradigma de la demanda cambia radicalmente. Tu cliente no es un extraño anónimo en la calle, sino un <strong>Ingeniero de Mantenimiento</strong>, un <strong>Líder de Proyectos</strong> o un <strong>Jefe de Planta</strong>. Aquí, la demanda no es una probabilidad estadística, sino una señal con “nombre y apellido”.</p>
<section id="el-concepto-pep-inventario-con-dueño" class="level3">
<h3 class="anchored" data-anchor-id="el-concepto-pep-inventario-con-dueño">2.5 El concepto PEP: Inventario con Dueño</h3>
<p>En proyectos industriales (como la construcción de una planta o una reparación mayor), se utiliza a menudo el concepto de <strong>PEP (Proyecto / WBS - Work Breakdown Structure)</strong>. Esto significa que el inventario está “etiquetado” contablemente para un destino específico.</p>
<p>Imagina que tienes 10 motores en el patio. Contablemente, el sistema dice “Stock = 10”. Sin embargo, 8 de esos motores ya están “prometidos” y reservados para el Proyecto PEP-2024 (una expansión crítica). Aunque físicamente los veas allí, <strong>no están disponibles</strong> para el mantenimiento diario de la operación actual.</p>
<p><strong>La Trampa Arquitectónica:</strong> Si ignoras estas reservas contables al calcular tu “Demanda No Restringida”, cometerás errores fatales:</p>
<ol type="1">
<li><p>Creerás que tienes stock suficiente cuando en realidad estás en un quiebre operativo para el área de mantenimiento.</p></li>
<li><p>Causarás un accidente operativo o una detención de planta porque alguien “tomó prestado” el inventario del proyecto para una emergencia, asumiendo que el repuesto llegaría a tiempo después. El inventario PEP debe ser tratado como una demanda firme e independiente en tu arquitectura.</p></li>
</ol>
</section>
<section id="fecha-de-necesidad-vs.-fecha-de-entrega-la-verdadera-señal" class="level3">
<h3 class="anchored" data-anchor-id="fecha-de-necesidad-vs.-fecha-de-entrega-la-verdadera-señal">2.6 Fecha de Necesidad vs.&nbsp;Fecha de Entrega: La Verdadera Señal</h3>
<p>Este es, quizás, el mayor error en la planificación industrial y de proyectos. La mayoría de los sistemas ERP registran la historia basándose en la <strong>Fecha de Salida de Almacén</strong> (cuándo se entregó el repuesto).</p>
<ul>
<li><p><strong>Fecha de Necesidad:</strong> Cuándo el ingeniero levantó la mano y pidió el repuesto para que la máquina no se detuviera.</p></li>
<li><p><strong>Fecha de Entrega:</strong> Cuándo finalmente pudiste dárselo (quizás semanas después, tras un quiebre de stock o un retraso logístico).</p></li>
</ul>
<p><strong>Consecuencia:</strong> Si analizas tu historia basándote en la fecha de entrega, estarás planificando basándote en tus propios retrasos. Estarás “desplazando” la demanda hacia el futuro de forma artificial. La demanda real (la voluntad del cliente interno) siempre se mide en la <strong>fecha de solicitud original</strong>. El diferencial entre ambas fechas no es demanda, es tu <strong>Lead Time Interno de ineficiencia</strong>.</p>
</section>
</section>
<section id="el-costo-financiero-de-la-ignorancia-del-dato-al-pl" class="level2">
<h2 class="anchored" data-anchor-id="el-costo-financiero-de-la-ignorancia-del-dato-al-pl">2.7 El Costo Financiero de la Ignorancia: Del Dato al P&amp;L</h2>
<p>Ignorar la diferencia entre ventas y demanda, o entre reservas y disponibilidad, conecta directamente con la salud financiera de la compañía. No es un problema de IT; es un problema de EBITDA.</p>
<ul>
<li><p><strong>E&amp;O (Excess &amp; Obsolete):</strong> Picos promocionales o pedidos de proyectos mal cancelados generan compras excesivas. Ese inventario se pudre en la bodega, consumiendo el flujo de caja que la empresa necesita para operar.</p></li>
<li><p><strong>DOH (Days on Hand):</strong> Una demanda real subestimada hace que tu cobertura de días parezca mayor de lo que es. Crees que tienes stock para 30 días, pero la demanda real te lo consumirá en 10.</p></li>
<li><p><strong>Costo de Adquisición de Cliente (CAC) o Costo de Detención:</strong> En retail, pierdes al cliente. En industria, una venta perdida (un repuesto que no llegó en la Fecha de Necesidad) puede costar miles de dólares por hora en lucro cesante por planta detenida.</p></li>
</ul>
</section>
<section id="important-plan-de-acción-sincronización-operativa" class="level2">
<h2 class="anchored" data-anchor-id="important-plan-de-acción-sincronización-operativa">Important Plan de Acción: Sincronización Operativa</h2>
<p>Como Arquitecto de Suministros, tu primera intervención debe ser “higienizar” la señal de entrada:</p>
<ol type="1">
<li><p><strong>Auditoría de Reservas:</strong> Compara sistemáticamente la fecha de solicitud original con la fecha de salida física. Identifica la brecha de servicio.</p></li>
<li><p><strong>Limpieza de Hoarding (Acaparamiento):</strong> Identifica reservas cargadas en el sistema con excesiva antelación por “miedo” al desabasto por parte de los ingenieros. El miedo genera ruido; ajusta esas señales para que coincidan con el cronograma real del proyecto (<em>Gantt</em>).</p></li>
<li><p><strong>Algoritmo de Relleno:</strong> Implementa la fórmula de Sustitución Temporal para los días de stockout antes de que el motor de pronóstico vea los datos.</p></li>
</ol>
</section>
<section id="checklist-de-cierre-del-capítulo" class="level2">
<h2 class="anchored" data-anchor-id="checklist-de-cierre-del-capítulo">Checklist de Cierre del Capítulo</h2>
<ul class="task-list">
<li><p><label><input type="checkbox"><strong>Auditoría de Ceros:</strong> ¿Sé qué días tuve stock menor al punto de reorden?</label></p></li>
<li><p><label><input type="checkbox"><strong>Diferencial de Fechas:</strong> ¿Mi reporte de demanda usa la “Fecha de Necesidad” o la de entrega?</label></p></li>
<li><p><label><input type="checkbox"><strong>Visibilidad de Reservas:</strong> ¿Puedo ver qué parte de mi stock físico está comprometida a un PEP/Proyecto?</label></p></li>
<li><p><label><input type="checkbox"><strong>Flagging de Promos:</strong> ¿Tengo un repositorio de promociones pasadas para cruzar datos?</label></p></li>
<li><p><label><input type="checkbox"><strong>Efecto Látigo:</strong> ¿Soy consciente de que un error en el dato de la tienda/planta se multiplica por 10 al llegar a la fábrica?</label></p></li>
</ul>
<p>En el próximo capítulo, aprenderemos a segmentar esta demanda reconstruida. No todos los productos merecen el mismo esfuerzo arquitectónico; aprenderemos a poner el capital donde el retorno es máximo.</p>


</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxyXG5qU3RhdCA9IHJlcXVpcmUoXCJqc3RhdEAxLjkuNlwiKVxyXG5QbG90bHkgPSByZXF1aXJlKFwicGxvdGx5LmpzLWRpc3QtbWluQDIuMjQuMVwiKVxyXG5cclxudmlld29mIGludmVudG9yeV9jYXAgPSBJbnB1dHMucmFuZ2UoWzEwLCAxNTBdLCB7dmFsdWU6IDgwLCBzdGVwOiA1LCBsYWJlbDogXCJDYXBhY2lkYWQgZGUgSW52ZW50YXJpbyAoVGVjaG8pOlwifSlcclxudmlld29mIGRlbWFuZF92b2xhdGlsaXR5ID0gSW5wdXRzLnJhbmdlKFs1LCA0MF0sIHt2YWx1ZTogMjAsIHN0ZXA6IDUsIGxhYmVsOiBcIlZvbGF0aWxpZGFkIGRlIGxhIERlbWFuZGE6XCJ9KVxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcclxuc2ltX2RlbWFuZF9kYXRhID0ge1xyXG4gIGNvbnN0IGRhdGEgPSBbXTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDYwOyBpKyspIHtcclxuICAgIGNvbnN0IHBhdHRlcm4gPSAxMDAgKyBNYXRoLnNpbihpLzUpICogNDU7IFxyXG4gICAgY29uc3Qgbm9pc2UgPSBqU3RhdC5ub3JtYWwuc2FtcGxlKDAsIGRlbWFuZF92b2xhdGlsaXR5KTtcclxuICAgIGNvbnN0IHJlYWxfZGVtYW5kID0gTWF0aC5tYXgoMCwgcGF0dGVybiArIG5vaXNlKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2FsZXMgPSBNYXRoLm1pbihyZWFsX2RlbWFuZCwgaW52ZW50b3J5X2NhcCk7XHJcbiAgICBkYXRhLnB1c2goeyB0OiBpLCBkZW1hbmQ6IHJlYWxfZGVtYW5kLCBzYWxlczogc2FsZXMgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG57XHJcbiAgY29uc3QgY29udGFpbmVyID0gaHRtbGA8ZGl2IHN0eWxlPVwid2lkdGg6MTAwJTsgaGVpZ2h0OjQ1MHB4O1wiPjwvZGl2PmA7XHJcbiAgY29uc3QgdHJhY2VzID0gW1xyXG4gICAge1xyXG4gICAgICB4OiBzaW1fZGVtYW5kX2RhdGEubWFwKGQgPT4gZC50KSxcclxuICAgICAgeTogc2ltX2RlbWFuZF9kYXRhLm1hcChkID0+IGQuZGVtYW5kKSxcclxuICAgICAgbmFtZTogJ0RlbWFuZGEgTm8gUmVzdHJpbmdpZGEnLFxyXG4gICAgICB0eXBlOiAnc2NhdHRlcicsIG1vZGU6ICdsaW5lcycsIGxpbmU6IHtjb2xvcjogJyNjYmQ1ZTEnLCB3aWR0aDogMiwgZGFzaDogJ2RvdCd9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB4OiBzaW1fZGVtYW5kX2RhdGEubWFwKGQgPT4gZC50KSxcclxuICAgICAgeTogc2ltX2RlbWFuZF9kYXRhLm1hcChkID0+IGQuc2FsZXMpLFxyXG4gICAgICBuYW1lOiAnVmVudGEgUmVnaXN0cmFkYSAoTXV0aWxhZGEpJyxcclxuICAgICAgdHlwZTogJ3NjYXR0ZXInLCBtb2RlOiAnbGluZXMnLCBmaWxsOiAndG96ZXJveScsIGxpbmU6IHtjb2xvcjogJyMyNTYzZWInLCB3aWR0aDogM31cclxuICAgIH1cclxuICBdO1xyXG4gIFBsb3RseS5uZXdQbG90KGNvbnRhaW5lciwgdHJhY2VzLCB7XHJcbiAgICB0aXRsZTogJ0ltcGFjdG8gZGVsIEludmVudGFyaW8gZW4gbGEgU2XDsWFsIGRlIERhdG9zJyxcclxuICAgIHRlbXBsYXRlOiAncGxvdGx5X3doaXRlJywgXHJcbiAgICBtYXJnaW46IHt0OjUwfSwgXHJcbiAgICBob3Zlcm1vZGU6ICd4IHVuaWZpZWQnXHJcbiAgfSk7XHJcbiAgcmV0dXJuIGNvbnRhaW5lcjtcclxufVxyXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2ludmVudG9yeV9jYXAnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnZGVtYW5kX3ZvbGF0aWxpdHknKSJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./cap-1-auditoria.html" class="pagination-link" aria-label="1. Auditoría de Datos y Arquitectura de Red">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">1. Auditoría de Datos y Arquitectura de Red</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cap-3-abcxyz-dinamico.html" class="pagination-link" aria-label="3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica">
        <span class="nav-page-text"><span class="chapter-title">3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2026 Nicolás A. Bravo</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/edit/main/cap-2-espejo-realidad.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Este libro fue creado con <a href="https://quarto.org/">Quarto</a>. Visita mi <a href="https://github.com/nicobravo933-Planner">repositorio GitHub</a>.</p>
</div>
  </div>
</footer>




</body></html>