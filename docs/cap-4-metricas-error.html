<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error – Arquitectura de suministros</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cap-5-pronostico-ingenuo.html" rel="next">
<link href="./cap-3-abcxyz-dinamico.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-c19b869bb4a227e112ccb989b6032731.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-37f97b4dfc99813de07ac4a6dfc6e37d.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-c19b869bb4a227e112ccb989b6032731.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-1-auditoria.html">I: El Diagnóstico</a></li><li class="breadcrumb-item"><a href="./cap-4-metricas-error.html"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Arquitectura de suministros</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/nicobravo933-Planner/Practicas_Supply" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenido</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">I: El Diagnóstico</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-1-auditoria.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">1. ¿Dónde estoy parado? ¿Como empiezo?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-2-espejo-realidad.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">2. El Espejo de la Realidad: Ventas vs.&nbsp;Demanda</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-3-abcxyz-dinamico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-4-metricas-error.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">II: Prediciendo el Futuro</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-5-pronostico-ingenuo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">5. El Pronóstico Ingenuo: Modelos Simples y Benchmarking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-6-suavizamiento-exponencial.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">6. Suavizando la Curva - La Inteligencia Estadística</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-7-arima-y-alternativas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">7. Introducción: El Salto de la Suavización a la Correlación</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">III: El Arsenal del Científico de Datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-8-ingenieria-atributos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">8. Introducción: El Cambio de Paradigma</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-9-bosque-decisiones.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">9. El Bosque de las Decisiones - Random Forest y XGBoost</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-10-validacion-overfitting.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">10. El Desierto de los Datos</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">IV: La Ciencia del Stock</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-11-costos-inventario.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">11. El Costo del Dinero y el Costo del Vacío</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-12-eoq-punto-reorden.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">12. El Paso del Pronóstico a la Orden</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-13-stock-seguridad.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">13. Bienvenidos al Mundo Estocástico</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-14-demandas-erraticas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">14. Más allá de la Curva Normal</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">V: Simulaciones y Redes Complejas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-15-monte-carlo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">15. El Laboratorio Virtual</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-16-efecto-domino-meio.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">16. El Efecto Dominó</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-17-sim-opt-politica-perfecta.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">17. Optimizando bajo Presión</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">VI: El Factor Humano y la Ejecución</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-18-fva-valor-pronostico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">18. ¿Aportamos Valor? (Forecast Value Added)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-19-gestion-sesgos-humanos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">19. El Algoritmo vs.&nbsp;el Ego</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-20-plan-maestro-sop.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">20. El Plan Maestro</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./notas-finales-estrategia.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Notas y Recomendaciones Estratégicas</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#el-concepto-de-baseline-el-modelo-naive" id="toc-el-concepto-de-baseline-el-modelo-naive" class="nav-link active" data-scroll-target="#el-concepto-de-baseline-el-modelo-naive">4.1 El Concepto de Baseline: El Modelo “Naive”</a>
  <ul class="collapse">
  <li><a href="#el-s-naive-para-negocios-con-memoria-estacional" id="toc-el-s-naive-para-negocios-con-memoria-estacional" class="nav-link" data-scroll-target="#el-s-naive-para-negocios-con-memoria-estacional">4.1.1 El S-Naive: Para negocios con memoria estacional</a></li>
  </ul></li>
  <li><a href="#anatomía-del-error-magnitud-y-dirección" id="toc-anatomía-del-error-magnitud-y-dirección" class="nav-link" data-scroll-target="#anatomía-del-error-magnitud-y-dirección">4.2 Anatomía del Error: Magnitud y Dirección</a>
  <ul class="collapse">
  <li><a href="#magnitud-mae-y-rmse-qué-tan-fuerte-fue-el-golpe" id="toc-magnitud-mae-y-rmse-qué-tan-fuerte-fue-el-golpe" class="nav-link" data-scroll-target="#magnitud-mae-y-rmse-qué-tan-fuerte-fue-el-golpe">4.2.1 Magnitud: MAE y RMSE (¿Qué tan fuerte fue el golpe?)</a></li>
  <li><a href="#dirección-el-bias-sesgo-o-la-inclinación-al-error" id="toc-dirección-el-bias-sesgo-o-la-inclinación-al-error" class="nav-link" data-scroll-target="#dirección-el-bias-sesgo-o-la-inclinación-al-error">4.2.2 Dirección: El BIAS (Sesgo o la inclinación al error)</a></li>
  </ul></li>
  <li><a href="#la-batalla-de-las-métricas-mae-bias-vs.-mape" id="toc-la-batalla-de-las-métricas-mae-bias-vs.-mape" class="nav-link" data-scroll-target="#la-batalla-de-las-métricas-mae-bias-vs.-mape">4.3 La Batalla de las Métricas: MAE + BIAS vs.&nbsp;MAPE</a>
  <ul class="collapse">
  <li><a href="#por-qué-los-expertos-cuestionan-el-mape" id="toc-por-qué-los-expertos-cuestionan-el-mape" class="nav-link" data-scroll-target="#por-qué-los-expertos-cuestionan-el-mape">4.3.1 ¿Por qué los expertos cuestionan el MAPE?</a></li>
  <li><a href="#el-experimento-del-espejismo-cómo-nos-miente-el-mape" id="toc-el-experimento-del-espejismo-cómo-nos-miente-el-mape" class="nav-link" data-scroll-target="#el-experimento-del-espejismo-cómo-nos-miente-el-mape">4.3.2 El Experimento del Espejismo: ¿Cómo nos miente el MAPE?</a></li>
  <li><a href="#tabla-comparativa-de-defensa-mae-vs-mape" id="toc-tabla-comparativa-de-defensa-mae-vs-mape" class="nav-link" data-scroll-target="#tabla-comparativa-de-defensa-mae-vs-mape">4.3.3 Tabla Comparativa de Defensa: MAE vs MAPE</a></li>
  <li><a href="#la-psicología-del-interlocutor-quién-quiere-ver-qué" id="toc-la-psicología-del-interlocutor-quién-quiere-ver-qué" class="nav-link" data-scroll-target="#la-psicología-del-interlocutor-quién-quiere-ver-qué">4.3.4 La Psicología del Interlocutor: ¿Quién quiere ver qué?</a></li>
  </ul></li>
  <li><a href="#el-wape-weighted-mape-el-puente-estratégico" id="toc-el-wape-weighted-mape-el-puente-estratégico" class="nav-link" data-scroll-target="#el-wape-weighted-mape-el-puente-estratégico">4.4 El WAPE (Weighted MAPE): El Puente Estratégico</a></li>
  <li><a href="#el-concepto-de-forecastability-pronosticabilidad" id="toc-el-concepto-de-forecastability-pronosticabilidad" class="nav-link" data-scroll-target="#el-concepto-de-forecastability-pronosticabilidad">4.5 El Concepto de “Forecastability” (Pronosticabilidad)</a></li>
  <li><a href="#el-tracking-signal-tu-sistema-de-alertas-automáticas" id="toc-el-tracking-signal-tu-sistema-de-alertas-automáticas" class="nav-link" data-scroll-target="#el-tracking-signal-tu-sistema-de-alertas-automáticas">4.6 El “Tracking Signal”: Tu sistema de alertas automáticas</a></li>
  <li><a href="#visualización-y-cálculo-en-r" id="toc-visualización-y-cálculo-en-r" class="nav-link" data-scroll-target="#visualización-y-cálculo-en-r">4.7 Visualización y Cálculo en R</a></li>
  <li><a href="#conclusión-del-diagnóstico-el-fin-de-la-parte-i" id="toc-conclusión-del-diagnóstico-el-fin-de-la-parte-i" class="nav-link" data-scroll-target="#conclusión-del-diagnóstico-el-fin-de-la-parte-i">4.8 Conclusión del Diagnóstico: El Fin de la Parte I</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/nicobravo933-Planner/Practicas_Supply/edit/main/cap-4-metricas-error.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/Practicas_Supply/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-1-auditoria.html">I: El Diagnóstico</a></li><li class="breadcrumb-item"><a href="./cap-4-metricas-error.html"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p>¡Bienvenido al momento de la verdad! Si llegaste hasta aquí, ya has construido los cimientos: tienes un mapa de tu red (Cap. 1), una demanda reconstruida que refleja la intención real de compra (Cap. 2) y tus productos clasificados por su importancia estratégica y su dificultad técnica (Cap. 3).</p>
<p>Ahora toca enfrentar la realidad. La pregunta que todo director financiero o de operaciones te hará no es si el modelo es “bonito” o si usaste una Red Neuronal, sino: <em>“¿Y qué tanto estamos fallando hoy?”</em>.</p>
<p>En Supply Chain, la honestidad brutal es tu mejor aliada. “Estamos más o menos” no es una métrica; es una opinión subjetiva que bloquea la mejora continua. Medir el error es, a menudo, un ejercicio de humildad corporativa que muchas empresas evitan para no evidenciar ineficiencias. Sin embargo, en este capítulo estableceremos el <strong>Baseline</strong> (tu punto cero de comparación) y aprenderemos a diseccionar el error en sus componentes de magnitud y dirección. Te voy avisando: si no eres capaz de medir el dolor financiero que causa tu error hoy, nunca podrás cuantificar el ahorro que traerán tus modelos avanzados mañana. Este es el “kilómetro cero” de tu transformación digital hacia una cadena inteligente.</p>
<hr>
<section id="el-concepto-de-baseline-el-modelo-naive" class="level2">
<h2 class="anchored" data-anchor-id="el-concepto-de-baseline-el-modelo-naive">4.1 El Concepto de Baseline: El Modelo “Naive”</h2>
<p>Antes de intentar predecir el futuro con modelos complejos, necesitamos un punto de referencia mínimo que represente el “esfuerzo cero”. En ciencia de datos aplicada, esto se llama el <strong>Modelo Base o Naive</strong>. Es el “rival a vencer” y la medida de tu propia ineficacia: si tu proceso actual no le gana a un modelo Naive, estás desperdiciando recursos humanos y tecnológicos.</p>
<p>La lógica del <strong>Pronóstico Ingenuo (Naive Forecast)</strong> es la persistencia absoluta: <em>“El mercado se comportará mañana exactamente igual que hoy”</em>.</p>
<p><span class="math display">\[
\large \hat{y}_{t+1} = y_t
\]</span></p>
<p><strong>Desglose de la fórmula y origen de datos:</strong></p>
<ul>
<li><span class="math inline">\(\large \hat{y}_{t+1}\)</span> (Pronóstico): Es la cantidad que estimamos que se demandará en el próximo periodo. Representa tu “apuesta” de inventario para el futuro inmediato.</li>
<li><span class="math inline">\(\large y_t\)</span> (Demanda Real): Es el valor de la <strong>Demanda Reconstruida</strong> (Unconstrained Demand) del Capítulo 2.</li>
<li><strong>Origen de los datos:</strong> Este valor debe venir de tu tabla de transacciones históricas filtradas. <strong>Crucial:</strong> Debe ser la demanda después de corregir quiebres de stock. Si usas la venta facturada (que es una venta restringida por tu propia falta de stock), tu baseline será artificialmente bajo y tus métricas de error parecerán mejores de lo que realmente son, ocultando el costo de oportunidad.</li>
</ul>
<section id="el-s-naive-para-negocios-con-memoria-estacional" class="level3">
<h3 class="anchored" data-anchor-id="el-s-naive-para-negocios-con-memoria-estacional">4.1.1 El S-Naive: Para negocios con memoria estacional</h3>
<p>Si tu negocio vende helados o calefactores, el Naive simple fallará. En ese caso, usamos el <strong>Seasonal Naive (S-Naive)</strong>: <em>“Diciembre de este año será igual a diciembre del año pasado”</em>.</p>
<p><span class="math display">\[
\large \hat{y}_{t+1} = y_{t+1-periodo}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>La Prueba de Fuego del Analista (FVA)
</div>
</div>
<div class="callout-body-container callout-body">
<p>El modelo Naive es tu “competidor silencioso”. En la Parte VI del libro utilizaremos este concepto para calcular el <strong>Forecast Value Added (FVA)</strong>. Si un equipo de 10 personas y un software de 100k USD no logran ser al menos un 10% mejores que un simple Naive, el proceso está “destruyendo valor”. Es preferible automatizar el Naive y dedicar a la gente a otra tarea.</p>
</div>
</div>
<hr>
</section>
</section>
<section id="anatomía-del-error-magnitud-y-dirección" class="level2">
<h2 class="anchored" data-anchor-id="anatomía-del-error-magnitud-y-dirección">4.2 Anatomía del Error: Magnitud y Dirección</h2>
<p>Un error de 100 unidades no significa lo mismo en el balance contable si te sobraron que si te faltaron. Para un ingeniero de Supply Chain, el error tiene dos dimensiones críticas que deben analizarse de forma simultánea: la <strong>magnitud</strong> (¿qué tan lejos estuve?) y la <strong>dirección</strong> (¿hacia qué lado fallé?).</p>
<section id="magnitud-mae-y-rmse-qué-tan-fuerte-fue-el-golpe" class="level3">
<h3 class="anchored" data-anchor-id="magnitud-mae-y-rmse-qué-tan-fuerte-fue-el-golpe">4.2.1 Magnitud: MAE y RMSE (¿Qué tan fuerte fue el golpe?)</h3>
<p>Estas métricas nos dicen qué tan grande fue la “distancia” entre nuestro plan y la realidad. No les importa el signo; solo miden el impacto del desvío total en unidades físicas.</p>
<ol type="1">
<li><p><strong>MAE (Mean Absolute Error):</strong> Es el promedio de los errores en valor absoluto. Es la métrica más “operativa” porque se expresa en unidades físicas. Si el MAE es 50, significa que, en promedio, tus pronósticos fallan por 50 unidades de espacio físico o capacidad de transporte. <span class="math display">\[
\large MAE = \frac{1}{n} \sum_{i=1}^{n} |Actual_i - Forecast_i|
\]</span></p></li>
<li><p><strong>RMSE (Root Mean Square Error):</strong> Eleva el error al cuadrado antes de promediar. Esto tiene una implicación logística brutal: <strong>penaliza de forma desproporcionada los errores grandes</strong>. El RMSE es el “sensor” que detecta esos “bombazos” que quiebran financieramente la operación. <span class="math display">\[
\large RMSE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (Actual_i - Forecast_i)^2}
\]</span></p></li>
</ol>
<p><strong>Variables:</strong> * <span class="math inline">\(\large Actual_i\)</span>: Demanda real corregida del periodo <span class="math inline">\(i\)</span> (Cap. 2). * <span class="math inline">\(\large Forecast_i\)</span>: Tu apuesta para ese periodo (Naive o plan oficial). * <span class="math inline">\(\large n\)</span>: Número de periodos evaluados (ventana de error).</p>
</section>
<section id="dirección-el-bias-sesgo-o-la-inclinación-al-error" class="level3">
<h3 class="anchored" data-anchor-id="dirección-el-bias-sesgo-o-la-inclinación-al-error">4.2.2 Dirección: El BIAS (Sesgo o la inclinación al error)</h3>
<p>El sesgo es el cáncer silencioso de la planificación. Nos dice si existe una tendencia psicológica (comercial) o sistémica (parámetros de software) a equivocarnos hacia un lado específico.</p>
<p><span class="math display">\[
\large BIAS = \sum_{i=1}^{n} (Forecast_i - Actual_i)
\]</span></p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>El Peligro de “Netear” Errores
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nunca presentes un error promedio simple en un reporte de desempeño sin valor absoluto. Si en enero fallaste por +100 (te sobró) y en febrero por -100 (te faltó), el error neto es 0. En el reporte financiero eres un genio, pero en la realidad física: 1) pagaste almacenamiento por lo que sobró y 2) perdiste clientes por lo que faltó. El <strong>BIAS</strong> sirve para diagnosticar si tu equipo comercial infla las cuotas por optimismo (sesgo positivo) o si producción es demasiado conservadora para no tener merma (sesgo negativo).</p>
</div>
</div>
<hr>
</section>
</section>
<section id="la-batalla-de-las-métricas-mae-bias-vs.-mape" class="level2">
<h2 class="anchored" data-anchor-id="la-batalla-de-las-métricas-mae-bias-vs.-mape">4.3 La Batalla de las Métricas: MAE + BIAS vs.&nbsp;MAPE</h2>
<p>En los pasillos de las empresas, el <strong>MAPE (Mean Absolute Percentage Error)</strong> suele ser el rey indiscutido. ¿La razón? Es fácil de decir: <em>“Nuestro error es del 10%”</em>. Sin embargo, desde una perspectiva de ingeniería master, algunos expertos opinan que el MAPE es una de las métricas más peligrosas y sesgadas que existen.</p>
<section id="por-qué-los-expertos-cuestionan-el-mape" class="level3">
<h3 class="anchored" data-anchor-id="por-qué-los-expertos-cuestionan-el-mape">4.3.1 ¿Por qué los expertos cuestionan el MAPE?</h3>
<p>El MAPE divide el error entre la demanda real para dar un porcentaje, lo que esconde trampas matemáticas:</p>
<ol type="1">
<li><strong>Sesgo de Subestimación:</strong> El MAPE castiga mucho más el hecho de que te sobre stock que el hecho de que te falte. Matemáticamente, es más “barato” fallar hacia abajo. Un modelo que optimiza el MAPE tenderá a dar pronósticos bajos, lo que provoca quiebres de stock sistemáticos.</li>
<li><strong>El problema del cero:</strong> Si en un mes no hubo ventas (demanda = 0), la fórmula explota por división entre cero.</li>
<li><strong>Indiferencia Económica:</strong> Trata igual un error del 10% en un producto Clase C que un 10% en un Clase A de alto costo.</li>
</ol>
</section>
<section id="el-experimento-del-espejismo-cómo-nos-miente-el-mape" class="level3">
<h3 class="anchored" data-anchor-id="el-experimento-del-espejismo-cómo-nos-miente-el-mape">4.3.2 El Experimento del Espejismo: ¿Cómo nos miente el MAPE?</h3>
<p>Para entender por qué el MAPE es peligroso para tu inventario, mira esta tabla comparativa. Imagina dos escenarios donde fallamos por las mismas <strong>90 unidades</strong> de magnitud absoluta:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Escenario</th>
<th>Demanda Real (<span class="math inline">\(\large y_t\)</span>)</th>
<th>Pronóstico (<span class="math inline">\(\large \hat{y}_t\)</span>)</th>
<th>Error Absoluto (<span class="math inline">\(\large MAE\)</span>)</th>
<th><strong>MAPE (%)</strong></th>
<th>Consecuencia Operativa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>A: Optimista</strong></td>
<td>10</td>
<td>100</td>
<td>90</td>
<td><strong>900%</strong></td>
<td>Te sobra muchísimo stock.</td>
</tr>
<tr class="even">
<td><strong>B: Pesimista</strong></td>
<td>100</td>
<td>10</td>
<td>90</td>
<td><strong>90%</strong></td>
<td><strong>Quiebre de stock.</strong></td>
</tr>
</tbody>
</table>
<p><strong>La trampa:</strong> Si le pides a un sistema que “optimice el MAPE”, elegirá siempre el <strong>Escenario B</strong>, porque un error del 90% “se ve mejor” que uno de 900%. Sin embargo, en el Escenario B dejaste de vender. El MAPE prefiere el desabasto antes que el exceso.</p>
</section>
<section id="tabla-comparativa-de-defensa-mae-vs-mape" class="level3">
<h3 class="anchored" data-anchor-id="tabla-comparativa-de-defensa-mae-vs-mape">4.3.3 Tabla Comparativa de Defensa: MAE vs MAPE</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Característica</th>
<th>MAPE (%)</th>
<th>MAE + BIAS (Unidades)</th>
<th>Impacto para el Negocio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Interpretación</strong></td>
<td>Abstracta y subjetiva</td>
<td>Física y tangible</td>
<td>El MAE se traduce en camiones y paletas.</td>
</tr>
<tr class="even">
<td><strong>Sesgo Matemático</strong></td>
<td>Tiende a pedir de menos</td>
<td>Neutral e imparcial</td>
<td>El MAE protege el nivel de servicio.</td>
</tr>
<tr class="odd">
<td><strong>Manejo de Ceros</strong></td>
<td>Fallo total (Div/0)</td>
<td>Robusto y funcional</td>
<td>El MAE sirve para todo el catálogo.</td>
</tr>
<tr class="even">
<td><strong>Sumabilidad</strong></td>
<td>No se puede promediar</td>
<td>Se suma por categorías</td>
<td>Puedes ver el error total en unidades.</td>
</tr>
<tr class="odd">
<td><strong>Finanzas</strong></td>
<td>Oculto tras el %</td>
<td>Cuantificable en USD</td>
<td>$MAE Costo = $ Dinero en riesgo.</td>
</tr>
</tbody>
</table>
</section>
<section id="la-psicología-del-interlocutor-quién-quiere-ver-qué" class="level3">
<h3 class="anchored" data-anchor-id="la-psicología-del-interlocutor-quién-quiere-ver-qué">4.3.4 La Psicología del Interlocutor: ¿Quién quiere ver qué?</h3>
<ul>
<li><strong>Gerencia General / CEO:</strong> Quieren sensación de escala. A ellos dales el <strong>WAPE</strong> (Cap. 4.4).</li>
<li><strong>Finanzas:</strong> Quieren saber cuánto dinero hay “en riesgo”. Dales el <strong>MAE en USD</strong> (<span class="math inline">\(\large MAE \times Costo\)</span>).</li>
<li><strong>Operaciones / Almacén:</strong> Quieren saber cuántas manos y camiones necesitan. El <strong>MAE en unidades</strong> es su lenguaje.</li>
<li><strong>S&amp;OP / Planeación:</strong> Quieren corregir el comportamiento. El <strong>BIAS</strong> es su brújula.</li>
</ul>
<hr>
</section>
</section>
<section id="el-wape-weighted-mape-el-puente-estratégico" class="level2">
<h2 class="anchored" data-anchor-id="el-wape-weighted-mape-el-puente-estratégico">4.4 El WAPE (Weighted MAPE): El Puente Estratégico</h2>
<p>Para reportar a gerencia con un porcentaje sin caer en las trampas del MAPE, usamos el <strong>WAPE</strong>. Pondera el error por el volumen total del portafolio.</p>
<p><span class="math display">\[
\large WAPE = \frac{\sum |Actual_i - Forecast_i|}{\sum Actual_i}
\]</span></p>
<p><strong>¿Por qué es superior?</strong> Porque le da el peso correcto a lo que realmente mueve la aguja. Un error de 1,000 unidades en un producto Clase A tiene un impacto enorme, mientras que el mismo error en un Clase C se diluye.</p>
</section>
<section id="el-concepto-de-forecastability-pronosticabilidad" class="level2">
<h2 class="anchored" data-anchor-id="el-concepto-de-forecastability-pronosticabilidad">4.5 El Concepto de “Forecastability” (Pronosticabilidad)</h2>
<p>Te voy avisando: no todo error es culpa de un mal modelo. Aquí conectamos con la <strong>Matriz ABC-XYZ del Capítulo 3</strong>. * <strong>Productos Smooth (AX):</strong> El error aceptable es bajo (ej. WAPE &lt; 15%). Si es mayor, tu proceso está roto. * <strong>Productos Lumpy (CZ):</strong> Un WAPE del 60% puede ser un éxito rotundo. Esos productos son inherentemente impredecibles.</p>
</section>
<section id="el-tracking-signal-tu-sistema-de-alertas-automáticas" class="level2">
<h2 class="anchored" data-anchor-id="el-tracking-signal-tu-sistema-de-alertas-automáticas">4.6 El “Tracking Signal”: Tu sistema de alertas automáticas</h2>
<p>Mide cuántos MAEs de error acumulado tenemos para detectar cuándo el BIAS se volvió inaceptable.</p>
<p><span class="math display">\[
\large Tracking Signal = \frac{BIAS_{acumulado}}{MAE}
\]</span></p>
<p>Si supera +/- 4, dispara una alerta roja: el modelo está sesgado y requiere intervención manual.</p>
<hr>
</section>
<section id="visualización-y-cálculo-en-r" class="level2">
<h2 class="anchored" data-anchor-id="visualización-y-cálculo-en-r">4.7 Visualización y Cálculo en R</h2>
<p>Vamos a comparar el desempeño del año pasado contra nuestro modelo Naive.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># --- SIMULACIÓN DE DATOS MAESTROS ---</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">456</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>evaluacion <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demanda Reconstruida del Cap 2 (Variables: y_t)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">demanda_real =</span> <span class="fu">rnorm</span>(<span class="dv">12</span>, <span class="dv">100</span>, <span class="dv">15</span>),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Pronóstico Comercial (y_hat - con sesgo optimista simulado)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">forecast_comercial =</span> demanda_real <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">12</span>, <span class="dv">12</span>, <span class="dv">25</span>) </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Modelo Naive: El pronóstico hoy es lo que pasó ayer</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">forecast_naive =</span> <span class="fu">lag</span>(demanda_real, <span class="at">default =</span> <span class="dv">100</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># --- CÁLCULO DE MÉTRICAS PASO A PASO ---</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>metricas <span class="ot">&lt;-</span> evaluacion <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Magnitud relativa (Ponderada por volumen)</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">WAPE_Comercial =</span> <span class="fu">sum</span>(<span class="fu">abs</span>(demanda_real <span class="sc">-</span> forecast_comercial)) <span class="sc">/</span> <span class="fu">sum</span>(demanda_real),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">WAPE_Naive =</span> <span class="fu">sum</span>(<span class="fu">abs</span>(demanda_real <span class="sc">-</span> forecast_naive)) <span class="sc">/</span> <span class="fu">sum</span>(demanda_real),</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Dirección (BIAS acumulado)</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">BIAS_Total =</span> <span class="fu">sum</span>(forecast_comercial <span class="sc">-</span> demanda_real),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Magnitud absoluta (Unidades reales)</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE_Unidades =</span> <span class="fu">mean</span>(<span class="fu">abs</span>(demanda_real <span class="sc">-</span> forecast_comercial))</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(metricas)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Interpretación de Resultados
</div>
</div>
<div class="callout-body-container callout-body">
<p>Si el <code>WAPE_Naive</code> es menor que el <code>WAPE_Comercial</code>, significa que tu proceso manual está ensuciando la señal de demanda. Es el momento de dejar de intentar “adivinar” y dejar que los datos hablen.</p>
</div>
</div>
</section>
<section id="conclusión-del-diagnóstico-el-fin-de-la-parte-i" class="level2">
<h2 class="anchored" data-anchor-id="conclusión-del-diagnóstico-el-fin-de-la-parte-i">4.8 Conclusión del Diagnóstico: El Fin de la Parte I</h2>
<p>Hemos terminado la primera gran etapa de este manual. Si has seguido los pasos, ahora tienes una infraestructura de pensamiento robusta:</p>
<ol type="1">
<li><strong>Datos Auditados:</strong> Sabes de dónde vienen (Cap. 1).</li>
<li><strong>Demanda Real:</strong> Limpiaste el historial (Cap. 2).</li>
<li><strong>Segmentación Estratégica:</strong> Clasificaste tu mundo (Cap. 3).</li>
<li><strong>Punto de Partida:</strong> Tienes un número (WAPE/BIAS) que representa tu realidad actual (Cap. 4).</li>
</ol>
<p>Te voy avisando: hasta ahora solo hemos hablado del pasado. A partir del próximo capítulo, entramos en la <strong>Parte II</strong>, donde tomaremos el bisturí de la estadística para predecir <strong>“qué va a pasar”</strong>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Resumen del Capítulo 4
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>Baseline:</strong> El modelo Naive es tu piso mínimo de calidad.</li>
<li><strong>MAE + BIAS:</strong> La combinación necesaria para no engañarse con promedios.</li>
<li><strong>WAPE:</strong> Tu traductor para gerencia ponderando por lo que importa.</li>
<li><strong>Pronosticabilidad:</strong> El error es relativo a la variabilidad.</li>
</ol>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./cap-3-abcxyz-dinamico.html" class="pagination-link" aria-label="3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cap-5-pronostico-ingenuo.html" class="pagination-link" aria-label="5. El Pronóstico Ingenuo: Modelos Simples y Benchmarking">
        <span class="nav-page-text"><span class="chapter-title">5. El Pronóstico Ingenuo: Modelos Simples y Benchmarking</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/nicobravo933-Planner/Practicas_Supply/edit/main/cap-4-metricas-error.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/Practicas_Supply/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>