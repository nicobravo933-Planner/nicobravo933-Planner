<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras – Arquitectura de suministros</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cap-6-suavizamiento-exponencial.html" rel="next">
<link href="./cap-4-metricas-error.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6d7b16145a975a9b09f17f801b1fce15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-1d61feaf5942a89f67c517e5b1b3c91a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-6d7b16145a975a9b09f17f801b1fce15.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-5-pronostico-ingenuo.html">II: Prediciendo el Futuro</a></li><li class="breadcrumb-item"><a href="./cap-5-pronostico-ingenuo.html"><span class="chapter-title">5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Arquitectura de suministros</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenido</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">I: El Diagnóstico</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-1-auditoria.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">1. Auditoría de Datos y Arquitectura de Red</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-2-espejo-realidad.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">2. El Espejo de la Realidad: Ventas vs.&nbsp;Demanda</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-3-abcxyz-dinamico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">3. Clasificando el Caos: Segmentación ABC/XYZ Dinámica</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-4-metricas-error.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">II: Prediciendo el Futuro</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-5-pronostico-ingenuo.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-6-suavizamiento-exponencial.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">6. Suavizando la Curva - La Inteligencia Estadística</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-7-arima-y-alternativas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">7. Introducción: El Salto de la Suavización a la Correlación</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">III: El Arsenal del Científico de Datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-8-ingenieria-atributos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">8. Introducción: El Cambio de Paradigma</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-9-bosque-decisiones.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">9. El Bosque de las Decisiones - Random Forest y XGBoost</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-10-validacion-overfitting.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">10. El Desierto de los Datos</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">IV: La Ciencia del Stock</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-11-costos-inventario.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">11. El Costo del Dinero y el Costo del Vacío</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-12-eoq-punto-reorden.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">12. El Paso del Pronóstico a la Orden</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-13-stock-seguridad.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">13. Bienvenidos al Mundo Estocástico</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-14-demandas-erraticas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">14. Más allá de la Curva Normal</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">V: Simulaciones y Redes Complejas</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-15-monte-carlo.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">15. El Laboratorio Virtual</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-16-efecto-domino-meio.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">16. El Efecto Dominó</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-17-sim-opt-politica-perfecta.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">17. Optimizando bajo Presión</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">VI: El Factor Humano y la Ejecución</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-18-fva-valor-pronostico.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">18. ¿Aportamos Valor? (Forecast Value Added)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-19-gestion-sesgos-humanos.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">19. El Algoritmo vs.&nbsp;el Ego: Gestión de Sesgos Humanos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cap-20-plan-maestro-sop.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">20. El Plan Maestro (S&amp;OP)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./notas-finales-estrategia.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Notas y Recomendaciones Estratégicas</span></a>
  </div>
</li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>Creado con <a href="https://quarto.org/">Quarto</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#por-qué-empezar-con-lo-simple-el-principio-de-la-parsimonia" id="toc-por-qué-empezar-con-lo-simple-el-principio-de-la-parsimonia" class="nav-link active" data-scroll-target="#por-qué-empezar-con-lo-simple-el-principio-de-la-parsimonia">5.1 ¿Por qué empezar con lo simple? El principio de la Parsimonia</a>
  <ul class="collapse">
  <li><a href="#el-valor-del-fva-forecast-value-added" id="toc-el-valor-del-fva-forecast-value-added" class="nav-link" data-scroll-target="#el-valor-del-fva-forecast-value-added">El valor del FVA (Forecast Value Added)</a></li>
  </ul></li>
  <li><a href="#el-arsenal-de-la-simplicidad-modelos-de-referencia" id="toc-el-arsenal-de-la-simplicidad-modelos-de-referencia" class="nav-link" data-scroll-target="#el-arsenal-de-la-simplicidad-modelos-de-referencia">5.2 El Arsenal de la Simplicidad: Modelos de Referencia</a></li>
  <li><a href="#el-panel-de-control-las-métricas-de-auditoría-multidimensional" id="toc-el-panel-de-control-las-métricas-de-auditoría-multidimensional" class="nav-link" data-scroll-target="#el-panel-de-control-las-métricas-de-auditoría-multidimensional">5.3 El Panel de Control: Las Métricas de Auditoría Multidimensional</a>
  <ul class="collapse">
  <li><a href="#a.-mae-magnitud-qué-tan-lejos-estamos" id="toc-a.-mae-magnitud-qué-tan-lejos-estamos" class="nav-link" data-scroll-target="#a.-mae-magnitud-qué-tan-lejos-estamos">A. MAE (Magnitud): ¿Qué tan lejos estamos?</a></li>
  <li><a href="#b.-bias-puntería-hacia-dónde-nos-equivocamos" id="toc-b.-bias-puntería-hacia-dónde-nos-equivocamos" class="nav-link" data-scroll-target="#b.-bias-puntería-hacia-dónde-nos-equivocamos">B. BIAS (Puntería): ¿Hacia dónde nos equivocamos?</a></li>
  <li><a href="#c.-rmse-sensibilidad-a-desvíos-extremos" id="toc-c.-rmse-sensibilidad-a-desvíos-extremos" class="nav-link" data-scroll-target="#c.-rmse-sensibilidad-a-desvíos-extremos">C. RMSE (Sensibilidad a Desvíos Extremos)</a></li>
  <li><a href="#d.-wape-el-error-ponderado-el-juez-de-negocio" id="toc-d.-wape-el-error-ponderado-el-juez-de-negocio" class="nav-link" data-scroll-target="#d.-wape-el-error-ponderado-el-juez-de-negocio">D. WAPE (El Error Ponderado): El Juez de Negocio</a></li>
  <li><a href="#e.-mase-el-juez-supremo-valor-añadido" id="toc-e.-mase-el-juez-supremo-valor-añadido" class="nav-link" data-scroll-target="#e.-mase-el-juez-supremo-valor-añadido">E. MASE (El Juez Supremo): Valor Añadido</a></li>
  </ul></li>
  <li><a href="#simulador-laboratorio-de-benchmarking-dinámico-panel-de-control-total" id="toc-simulador-laboratorio-de-benchmarking-dinámico-panel-de-control-total" class="nav-link" data-scroll-target="#simulador-laboratorio-de-benchmarking-dinámico-panel-de-control-total">5.4 Simulador: Laboratorio de Benchmarking Dinámico (Panel de Control Total)</a></li>
  <li><a href="#análisis-de-benchmarking-la-complejidad-justifica-la-inversión" id="toc-análisis-de-benchmarking-la-complejidad-justifica-la-inversión" class="nav-link" data-scroll-target="#análisis-de-benchmarking-la-complejidad-justifica-la-inversión">5.5 Análisis de Benchmarking: ¿La complejidad justifica la inversión?</a>
  <ul class="collapse">
  <li><a href="#el-valor-del-fva-verde-vs.-rojo" id="toc-el-valor-del-fva-verde-vs.-rojo" class="nav-link" data-scroll-target="#el-valor-del-fva-verde-vs.-rojo">El Valor del FVA (Verde vs.&nbsp;Rojo)</a></li>
  <li><a href="#la-patología-del-lag" id="toc-la-patología-del-lag" class="nav-link" data-scroll-target="#la-patología-del-lag">La Patología del Lag</a></li>
  <li><a href="#el-veredicto-de-ockham" id="toc-el-veredicto-de-ockham" class="nav-link" data-scroll-target="#el-veredicto-de-ockham">El Veredicto de Ockham</a></li>
  </ul></li>
  <li><a href="#checklist-de-cierre" id="toc-checklist-de-cierre" class="nav-link" data-scroll-target="#checklist-de-cierre">Checklist de Cierre</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/edit/main/cap-5-pronostico-ingenuo.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cap-5-pronostico-ingenuo.html">II: Prediciendo el Futuro</a></li><li class="breadcrumb-item"><a href="./cap-5-pronostico-ingenuo.html"><span class="chapter-title">5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">5. El Pronóstico Ingenuo y el Benchmarking Sin Mentiras</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p>En los capítulos anteriores, aprendimos a limpiar nuestra base de datos y a entender la estructura de la demanda. Ahora, entramos en la <strong>Parte II: Prediciendo el Futuro</strong>. Este es el momento crítico donde el análisis retrospectivo deja de ser un ejercicio de archivo y se convierte en prospección estratégica.</p>
<p>Antes de lanzar algoritmos de Machine Learning, redes neuronales o modelos econométricos de alta complejidad, todo Arquitecto de Suministros debe responder a una pregunta humilde pero letal: <strong>¿Puede tu modelo ganarle a la simplicidad absoluta?</strong> En este capítulo, aprenderemos a construir el “piso” de nuestra precisión: los Modelos Ingenuos y el arsenal de métricas que realmente dicen la verdad en el mundo de los negocios.</p>
<section id="por-qué-empezar-con-lo-simple-el-principio-de-la-parsimonia" class="level2">
<h2 class="anchored" data-anchor-id="por-qué-empezar-con-lo-simple-el-principio-de-la-parsimonia">5.1 ¿Por qué empezar con lo simple? El principio de la Parsimonia</h2>
<p>En ciencia de datos, existe una tentación casi irresistible de usar un “cañón para matar una mosca”. El pronóstico ingenuo (<em>Naive Forecast</em>) no se llama así porque sea “tonto”, sino porque no asume ninguna estructura compleja en los datos más allá de la inercia inmediata. Sirve como el <strong>punto de referencia (Benchmark)</strong> fundamental.</p>
<section id="el-valor-del-fva-forecast-value-added" class="level3">
<h3 class="anchored" data-anchor-id="el-valor-del-fva-forecast-value-added">El valor del FVA (Forecast Value Added)</h3>
<p>Si un modelo complejo de IA no logra mejorar la precisión de un modelo ingenuo, entonces el modelo complejo está <strong>destruyendo valor</strong>. En términos financieros, el costo de mantener esa infraestructura de datos, el tiempo de los analistas y el poder de cómputo supera el ahorro generado por la precisión extra. El Arquitecto utiliza la parsimonia como un filtro de eficiencia: si la simplicidad funciona, la complejidad es un desperdicio.</p>
</section>
</section>
<section id="el-arsenal-de-la-simplicidad-modelos-de-referencia" class="level2">
<h2 class="anchored" data-anchor-id="el-arsenal-de-la-simplicidad-modelos-de-referencia">5.2 El Arsenal de la Simplicidad: Modelos de Referencia</h2>
<ol type="1">
<li><p><strong>Naive (</strong><span class="math inline">\(y_t\)</span><strong>):</strong> La predicción para mañana es lo que vendí hoy. Es el “rey” para productos de alta rotación sin tendencia clara o en mercados financieros donde el precio de hoy es la mejor estimación del precio de mañana. Representa el escenario de “continuidad absoluta”.</p></li>
<li><p><strong>S-Naive (Seasonal Naive):</strong> La predicción para este periodo es igual al mismo periodo del ciclo anterior (ej. este lunes es igual al lunes pasado, o este diciembre es igual al diciembre anterior). Es vital para el retail, donde los patrones estacionales dominan la demanda por encima de cualquier tendencia.</p></li>
<li><p><strong>Drift (Deriva):</strong> Es una línea recta que asume que el cambio promedio observado en el pasado continuará de forma constante en el futuro. Es la forma más pura de proyectar una tendencia sin necesidad de regresiones lineales complejas.</p></li>
</ol>
</section>
<section id="el-panel-de-control-las-métricas-de-auditoría-multidimensional" class="level2">
<h2 class="anchored" data-anchor-id="el-panel-de-control-las-métricas-de-auditoría-multidimensional">5.3 El Panel de Control: Las Métricas de Auditoría Multidimensional</h2>
<p>Un error común en la planificación es reportar solo una métrica (como el MAPE). Como arquitectos, necesitamos una visión 360° del error para entender no solo cuánto nos equivocamos, sino por qué y qué impacto tiene en la operación.</p>
<section id="a.-mae-magnitud-qué-tan-lejos-estamos" class="level3">
<h3 class="anchored" data-anchor-id="a.-mae-magnitud-qué-tan-lejos-estamos">A. MAE (Magnitud): ¿Qué tan lejos estamos?</h3>
<p>El <strong>Mean Absolute Error</strong> mide el tamaño promedio del error en unidades físicas. Es la métrica de comunicación por excelencia hacia el almacén: “En promedio, fallamos por 50 cajas”. Es lineal y fácil de digerir, permitiendo dimensionar el espacio físico necesario para el stock de maniobra.</p>
</section>
<section id="b.-bias-puntería-hacia-dónde-nos-equivocamos" class="level3">
<h3 class="anchored" data-anchor-id="b.-bias-puntería-hacia-dónde-nos-equivocamos">B. BIAS (Puntería): ¿Hacia dónde nos equivocamos?</h3>
<p>Indica si el modelo tiende a sobre-estimar o sub-estimar sistemáticamente. Es la métrica de la <strong>estrategia financiera</strong>.</p>
<ul>
<li><p><strong>BIAS (+):</strong> Estamos inflando el inventario. El dinero se queda atrapado en cajas que no se mueven, aumentando el riesgo de obsolescencia.</p></li>
<li><p><strong>BIAS (-):</strong> Estamos provocando quiebres de stock. El cliente llega y el estante está vacío, destruyendo la lealtad de marca y el ingreso.</p></li>
</ul>
</section>
<section id="c.-rmse-sensibilidad-a-desvíos-extremos" class="level3">
<h3 class="anchored" data-anchor-id="c.-rmse-sensibilidad-a-desvíos-extremos">C. RMSE (Sensibilidad a Desvíos Extremos)</h3>
<p>Al elevar los errores al cuadrado antes de promediarlos, el RMSE penaliza severamente los errores grandes.</p>
<ul>
<li><strong>Importancia:</strong> En logística, equivocarse diez veces por 1 unidad es manejable; equivocarse una vez por 10 unidades es un desastre que colapsa el transporte y la recepción. El RMSE te avisa si tu modelo es propenso a estos “colapsos”.</li>
</ul>
</section>
<section id="d.-wape-el-error-ponderado-el-juez-de-negocio" class="level3">
<h3 class="anchored" data-anchor-id="d.-wape-el-error-ponderado-el-juez-de-negocio">D. WAPE (El Error Ponderado): El Juez de Negocio</h3>
<p>A diferencia del MAPE, el WAPE divide el error total acumulado entre la demanda total real. Es la métrica de “piso de venta”: nos dice cuánto error estamos cometiendo respecto al volumen total que mueve la compañía, evitando la distorsión de los productos con ventas cercanas a cero.</p>
</section>
<section id="e.-mase-el-juez-supremo-valor-añadido" class="level3">
<h3 class="anchored" data-anchor-id="e.-mase-el-juez-supremo-valor-añadido">E. MASE (El Juez Supremo): Valor Añadido</h3>
<p>El <strong>Mean Absolute Scaled Error</strong> compara el error de tu modelo actual contra el error que hubiera tenido un modelo Naive.</p>
<ul>
<li><p><strong>MASE &gt; 1.0:</strong> Tu modelo es puro ruido. Estás invirtiendo tiempo en algo que es peor que no hacer nada.</p></li>
<li><p><strong>MASE &lt; 1.0:</strong> Tu modelo está añadiendo inteligencia y valor real a la red.</p></li>
</ul>
</section>
</section>
<section id="simulador-laboratorio-de-benchmarking-dinámico-panel-de-control-total" class="level2">
<h2 class="anchored" data-anchor-id="simulador-laboratorio-de-benchmarking-dinámico-panel-de-control-total">5.4 Simulador: Laboratorio de Benchmarking Dinámico (Panel de Control Total)</h2>
<p>Ajusta los parámetros de <strong>Tendencia</strong>, <strong>Estacionalidad</strong> y <strong>Ruido</strong>. Observa la tabla inferior: es el tablero de mando que todo Demand Planner debería auditar antes de firmar un pronóstico y enviarlo a producción.</p>
<div class="panel-grid layout-sidebar ms-md-0 layout-sidebar-left">
<div class="cell panel-sidebar card bg-light p-2 g-col-24 g-col-lg-7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="65" data-source-offset="-2"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 64;"><span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>jStat <span class="op">=</span> <span class="pp">require</span>(<span class="st">"jstat@1.9.6"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>Plotly <span class="op">=</span> <span class="pp">require</span>(<span class="st">"plotly.js-dist-min@2.24.1"</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>viewof n_days <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">30</span><span class="op">,</span> <span class="dv">200</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">120</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Días de Historia:"</span>})</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>viewof volatility <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">5</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Ruido (Variabilidad):"</span>})</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>viewof trend_slope <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="fl">0.6</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Tendencia (Pendiente):"</span>})</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>viewof season_strength <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">80</span>]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Fuerza Estacional:"</span>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="panel-fill panel-grid g-col-24 g-col-lg-17 pt-3 pt-lg-0">
<div class="g-col-24">
<div class="cell panel-fill">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="79" data-source-offset="-61"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 78;"><span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>time_series <span class="op">=</span> {</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n_days<span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> base <span class="op">=</span> <span class="dv">100</span> <span class="op">+</span> (i <span class="op">*</span> trend_slope)<span class="op">;</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> season <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>((i <span class="op">/</span> <span class="dv">7</span>) <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span>) <span class="op">*</span> season_strength<span class="op">;</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> noise <span class="op">=</span> jStat<span class="op">.</span><span class="at">normal</span><span class="op">.</span><span class="fu">sample</span>(<span class="dv">0</span><span class="op">,</span> volatility)<span class="op">;</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>    data<span class="op">.</span><span class="fu">push</span>({ <span class="dt">t</span><span class="op">:</span> i<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="dv">0</span><span class="op">,</span> base <span class="op">+</span> season <span class="op">+</span> noise) })<span class="op">;</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. Pronósticos y Auditoría de Errores Multidimensional</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> {</span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> test_size <span class="op">=</span> <span class="dv">14</span><span class="op">;</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> history <span class="op">=</span> time_series<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="op">-</span>test_size)<span class="op">;</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> actuals <span class="op">=</span> time_series<span class="op">.</span><span class="fu">slice</span>(<span class="op">-</span>test_size)<span class="op">;</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> last_val <span class="op">=</span> history[history<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>]<span class="op">.</span><span class="at">y</span><span class="op">;</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> total_demand <span class="op">=</span> jStat<span class="op">.</span><span class="fu">sum</span>(actuals<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>))<span class="op">;</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Cálculo de Baseline Naive para el MASE y FVA</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> naive_diffs <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(<span class="kw">let</span> i<span class="op">=</span><span class="dv">1</span><span class="op">;</span> i<span class="op">&lt;</span>history<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>    naive_diffs<span class="op">.</span><span class="fu">push</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(history[i]<span class="op">.</span><span class="at">y</span> <span class="op">-</span> history[i<span class="op">-</span><span class="dv">1</span>]<span class="op">.</span><span class="at">y</span>))<span class="op">;</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> mean_naive_err <span class="op">=</span> jStat<span class="op">.</span><span class="fu">mean</span>(naive_diffs)<span class="op">;</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Error del Naive en el periodo de test para el FVA</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> naive_test_errors <span class="op">=</span> actuals<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(d<span class="op">.</span><span class="at">y</span> <span class="op">-</span> last_val))<span class="op">;</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> naive_wape <span class="op">=</span> (jStat<span class="op">.</span><span class="fu">sum</span>(naive_test_errors) <span class="op">/</span> total_demand) <span class="op">*</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> models <span class="op">=</span> [</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">name</span><span class="op">:</span> <span class="st">"Naive"</span><span class="op">,</span> <span class="dt">forecast</span><span class="op">:</span> actuals<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> last_val) }<span class="op">,</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">name</span><span class="op">:</span> <span class="st">"S-Naive"</span><span class="op">,</span> <span class="dt">forecast</span><span class="op">:</span> actuals<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> history[history<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">7</span> <span class="op">+</span> (i <span class="op">%</span> <span class="dv">7</span>)]<span class="op">.</span><span class="at">y</span>) }<span class="op">,</span></span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">name</span><span class="op">:</span> <span class="st">"Drift"</span><span class="op">,</span> <span class="dt">forecast</span><span class="op">:</span> actuals<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> last_val <span class="op">+</span> (i<span class="op">+</span><span class="dv">1</span>) <span class="op">*</span> (last_val <span class="op">-</span> history[<span class="dv">0</span>]<span class="op">.</span><span class="at">y</span>)<span class="op">/</span>(history<span class="op">.</span><span class="at">length</span><span class="op">-</span><span class="dv">1</span>)) }</span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> processed <span class="op">=</span> models<span class="op">.</span><span class="fu">map</span>(m <span class="kw">=&gt;</span> {</span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> raw_errors <span class="op">=</span> actuals<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> m<span class="op">.</span><span class="at">forecast</span>[i] <span class="op">-</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">;</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> abs_errors <span class="op">=</span> raw_errors<span class="op">.</span><span class="fu">map</span>(e <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(e))<span class="op">;</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> squared_errors <span class="op">=</span> raw_errors<span class="op">.</span><span class="fu">map</span>(e <span class="kw">=&gt;</span> e <span class="op">*</span> e)<span class="op">;</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> mae <span class="op">=</span> jStat<span class="op">.</span><span class="fu">mean</span>(abs_errors)<span class="op">;</span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> bias <span class="op">=</span> jStat<span class="op">.</span><span class="fu">mean</span>(raw_errors)<span class="op">;</span></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> rmse <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(jStat<span class="op">.</span><span class="fu">mean</span>(squared_errors))<span class="op">;</span></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> wape <span class="op">=</span> (jStat<span class="op">.</span><span class="fu">sum</span>(abs_errors) <span class="op">/</span> total_demand) <span class="op">*</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> mase <span class="op">=</span> mae <span class="op">/</span> mean_naive_err<span class="op">;</span></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>    <span class="co">// FVA en puntos porcentuales respecto al Naive</span></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> fva <span class="op">=</span> naive_wape <span class="op">-</span> wape<span class="op">;</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> { </span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Modelo"</span><span class="op">:</span> m<span class="op">.</span><span class="at">name</span><span class="op">,</span> </span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>      <span class="st">"MAE"</span><span class="op">:</span> mae<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="op">,</span> </span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>      <span class="st">"BIAS"</span><span class="op">:</span> bias<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="op">,</span></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>      <span class="st">"RMSE"</span><span class="op">:</span> rmse<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>)<span class="op">,</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>      <span class="st">"WAPE (%)"</span><span class="op">:</span> wape<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">1</span>) <span class="op">+</span> <span class="st">"%"</span><span class="op">,</span></span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"MASE"</span><span class="op">:</span> mase<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">3</span>)<span class="op">,</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>      <span class="st">"FVA (pts)"</span><span class="op">:</span> m<span class="op">.</span><span class="at">name</span> <span class="op">===</span> <span class="st">"Naive"</span> <span class="op">?</span> <span class="st">"0.0"</span> <span class="op">:</span> fva<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="op">,</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Impacto"</span><span class="op">:</span> bias <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"⚠️ Sobre-stock"</span> <span class="op">:</span> <span class="st">"🔴 Quiebres"</span><span class="op">,</span></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>      <span class="dt">forecast</span><span class="op">:</span> m<span class="op">.</span><span class="at">forecast</span><span class="op">,</span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a>      <span class="dt">score</span><span class="op">:</span> mae<span class="op">,</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fva_val</span><span class="op">:</span> fva</span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> best_mae <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="op">...</span>processed<span class="op">.</span><span class="fu">map</span>(p <span class="kw">=&gt;</span> p<span class="op">.</span><span class="at">score</span>))<span class="op">;</span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> processed<span class="op">.</span><span class="fu">map</span>(p <span class="kw">=&gt;</span> ({</span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span>p<span class="op">,</span></span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Estado"</span><span class="op">:</span> p<span class="op">.</span><span class="at">score</span> <span class="op">===</span> best_mae <span class="op">?</span> <span class="st">"🏆 GANADOR"</span> <span class="op">:</span> (p<span class="op">.</span><span class="at">fva_val</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> p<span class="op">.</span><span class="at">Modelo</span> <span class="op">!==</span> <span class="st">"Naive"</span> <span class="op">?</span> <span class="st">"⛔ Destruye Valor"</span> <span class="op">:</span> <span class="st">"---"</span>)</span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a>  }))<span class="op">;</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. Visualización con Plotly</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>chartBench <span class="op">=</span> {</span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> container <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div style="width:100%; height:420px;"&gt;&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> actuals <span class="op">=</span> time_series<span class="op">.</span><span class="fu">slice</span>(<span class="op">-</span><span class="dv">14</span>)<span class="op">;</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> traces <span class="op">=</span> [</span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>    { <span class="dt">x</span><span class="op">:</span> time_series<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">t</span>)<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> time_series<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">y</span>)<span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">'Realidad Histórica'</span><span class="op">,</span> <span class="dt">line</span><span class="op">:</span> {<span class="dt">color</span><span class="op">:</span> <span class="st">'#475569'</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">3</span>} }<span class="op">,</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span>results<span class="op">.</span><span class="fu">map</span>(r <span class="kw">=&gt;</span> ({</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> actuals<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">t</span>)<span class="op">,</span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> r<span class="op">.</span><span class="at">forecast</span><span class="op">,</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">name</span><span class="op">:</span> r[<span class="st">"Modelo"</span>]<span class="op">,</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>      <span class="dt">line</span><span class="op">:</span> {<span class="dt">dash</span><span class="op">:</span> <span class="st">'dash'</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">2</span>}</span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>    }))</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> layout <span class="op">=</span> {</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> <span class="st">'Benchmarking de Modelos Ingenuos'</span><span class="op">,</span></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>    <span class="dt">template</span><span class="op">:</span> <span class="st">'plotly_white'</span><span class="op">,</span> </span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> {<span class="dt">t</span><span class="op">:</span><span class="dv">50</span><span class="op">,</span> <span class="dt">b</span><span class="op">:</span><span class="dv">50</span><span class="op">,</span> <span class="dt">l</span><span class="op">:</span><span class="dv">50</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span><span class="dv">30</span>}<span class="op">,</span></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovermode</span><span class="op">:</span> <span class="st">'x unified'</span><span class="op">,</span></span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>    <span class="dt">legend</span><span class="op">:</span> {<span class="dt">orientation</span><span class="op">:</span> <span class="st">'h'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span>}<span class="op">,</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xaxis</span><span class="op">:</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">'Tiempo (Días)'</span> }<span class="op">,</span></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yaxis</span><span class="op">:</span> { <span class="dt">title</span><span class="op">:</span> <span class="st">'Demanda (Unidades)'</span> }</span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(container<span class="op">,</span> traces<span class="op">,</span> layout<span class="op">,</span> {<span class="dt">responsive</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">displayModeBar</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> container<span class="op">;</span></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a><span class="co">// 4. Tabla de Resultados Auditados con FVA</span></span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a>Inputs<span class="op">.</span><span class="fu">table</span>(results<span class="op">.</span><span class="fu">map</span>(({forecast<span class="op">,</span> score<span class="op">,</span> fva_val<span class="op">,</span> <span class="op">...</span>rest}) <span class="kw">=&gt;</span> rest))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Guía de Supervivencia de Métricas
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Si el RMSE es mucho más alto que el MAE:</strong> Tienes “outliers” o picos salvajes en la demanda que tus modelos simples no están capturando. Necesitas revisar si esos picos son promociones o errores de datos.</p></li>
<li><p><strong>Si el WAPE es alto pero el MASE es bajo:</strong> Tu demanda es intrínsecamente difícil y ruidosa, pero tu modelo está haciendo el mejor trabajo posible. No te castigues por el error alto; celebra que le estás ganando al azar.</p></li>
<li><p><strong>Si el BIAS es persistente:</strong> Tu proceso de planificación está viciado. Si es positivo, estás siendo muy optimista; si es negativo, estás subestimando el mercado sistemáticamente.</p></li>
</ol>
</div>
</div>
</section>
<section id="análisis-de-benchmarking-la-complejidad-justifica-la-inversión" class="level2">
<h2 class="anchored" data-anchor-id="análisis-de-benchmarking-la-complejidad-justifica-la-inversión">5.5 Análisis de Benchmarking: ¿La complejidad justifica la inversión?</h2>
<p>La tabla anterior no es solo un resumen de errores; es el tablero de control del ROI de tu proceso de planeación. Al analizarla mes a mes, podemos extraer tres conclusiones críticas para la ingeniería de suministro:</p>
<section id="el-valor-del-fva-verde-vs.-rojo" class="level3">
<h3 class="anchored" data-anchor-id="el-valor-del-fva-verde-vs.-rojo">El Valor del FVA (Verde vs.&nbsp;Rojo)</h3>
<p>El <strong>Forecast Value Added (FVA)</strong> es el indicador que audita si tu intervención (o la del modelo) está mejorando la situación. Se define mediante la fórmula:</p>
<p><span class="math display">\[
FVA = \text{Error}_{\text{Referencia (Naive)}} - \text{Error}_{\text{Proceso/Modelo}}
\]</span></p>
<p>O expresado en puntos porcentuales de WAPE:</p>
<p><span class="math display">\[
FVA_{\text{pp}} = WAPE_{\text{Naive}} - WAPE_{\text{Modelo}}
\]</span></p>
<ul>
<li><p><strong>Celdas con FVA Positivo:</strong> Representan un acierto de la complejidad. El modelo logró filtrar el ruido mejor que el Naive, justificando el esfuerzo analítico.</p></li>
<li><p><strong>Celdas con FVA Negativo:</strong> Indican <strong>“Destrucción de Valor”</strong>. Pagaste el costo de un modelo (o tiempo humano) para terminar con un error mayor al que habrías tenido simplemente repitiendo el dato del periodo anterior.</p></li>
</ul>
</section>
<section id="la-patología-del-lag" class="level3">
<h3 class="anchored" data-anchor-id="la-patología-del-lag">La Patología del Lag</h3>
<p>Observa los periodos de tendencia alcista en el simulador. Notarás que el error de los modelos de promedios o Naive suele ser mayor y el FVA tiende a ser negativo si el modelo no es reactivo. Esto confirma visualmente que los modelos estáticos castigan la reactividad en favor de la estabilidad.</p>
</section>
<section id="el-veredicto-de-ockham" class="level3">
<h3 class="anchored" data-anchor-id="el-veredicto-de-ockham">El Veredicto de Ockham</h3>
<p>Si al final de un ejercicio de 6 meses el FVA acumulado no supera un umbral mínimo (ej. 5%), la recomendación técnica es <strong>desmantelar la complejidad</strong>. Mantener un modelo que no bate al Naive de forma consistente solo añade “grasa” operativa, costos de mantenimiento de software y confusión a la cadena.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Guía de Supervivencia de Métricas
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><strong>Si el RMSE es mucho más alto que el MAE:</strong> Tienes “outliers” o picos salvajes en la demanda que tus modelos simples no están capturando. Necesitas revisar si esos picos son promociones o errores de datos.</p></li>
<li><p><strong>Si el WAPE es alto pero el MASE es bajo:</strong> Tu demanda es intrínsecamente difícil y ruidosa, pero tu modelo está haciendo el mejor trabajo posible. No te castigues por el error alto; celebra que le estás ganando al azar.</p></li>
<li><p><strong>Si el BIAS es persistente:</strong> Tu proceso de planificación está viciado. Si es positivo, estás siendo muy optimista; si es negativo, estás subestimando el mercado sistemáticamente.</p></li>
</ol>
</div>
</div>
</section>
</section>
<section id="checklist-de-cierre" class="level2">
<h2 class="anchored" data-anchor-id="checklist-de-cierre">Checklist de Cierre</h2>
<ul class="task-list">
<li><p><label><input type="checkbox">¿He analizado el <strong>RMSE</strong> para identificar si mi modelo sufre con los picos de demanda y colapsa la operación?</label></p></li>
<li><p><label><input type="checkbox">¿Reporto el <strong>WAPE</strong> como la métrica de negocio para medir el error relativo respecto al volumen de ventas?</label></p></li>
<li><p><label><input type="checkbox">¿Entiendo que el MASE es el único juez imparcial que valida si mi trabajo matemático añade valor sobre la inercia?</label></p></li>
<li><p><label><input type="checkbox">¿Utilizo el <strong>FVA</strong> para alertar a la gerencia cuando la complejidad de un modelo (o un ajuste humano) está empeorando el resultado?</label></p></li>
<li><p><label><input type="checkbox">¿He identificado los productos donde el modelo Naive es imbatible y, por ende, no requieren esfuerzo analítico adicional?</label></p></li>
</ul>


</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxyXG5qU3RhdCA9IHJlcXVpcmUoXCJqc3RhdEAxLjkuNlwiKVxyXG5QbG90bHkgPSByZXF1aXJlKFwicGxvdGx5LmpzLWRpc3QtbWluQDIuMjQuMVwiKVxyXG5cclxudmlld29mIG5fZGF5cyA9IElucHV0cy5yYW5nZShbMzAsIDIwMF0sIHt2YWx1ZTogMTIwLCBzdGVwOiAxMCwgbGFiZWw6IFwiRMOtYXMgZGUgSGlzdG9yaWE6XCJ9KVxyXG52aWV3b2Ygdm9sYXRpbGl0eSA9IElucHV0cy5yYW5nZShbNSwgMTAwXSwge3ZhbHVlOiAzMCwgc3RlcDogNSwgbGFiZWw6IFwiUnVpZG8gKFZhcmlhYmlsaWRhZCk6XCJ9KVxyXG52aWV3b2YgdHJlbmRfc2xvcGUgPSBJbnB1dHMucmFuZ2UoWy0yLCAyXSwge3ZhbHVlOiAwLjYsIHN0ZXA6IDAuMSwgbGFiZWw6IFwiVGVuZGVuY2lhIChQZW5kaWVudGUpOlwifSlcclxudmlld29mIHNlYXNvbl9zdHJlbmd0aCA9IElucHV0cy5yYW5nZShbMCwgODBdLCB7dmFsdWU6IDQwLCBzdGVwOiA1LCBsYWJlbDogXCJGdWVyemEgRXN0YWNpb25hbDpcIn0pXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxyXG4vLyAxLiBHZW5lcmFjacOzbiBkZSBkYXRvcyByZWFjdGl2YSBjb24gbMOzZ2ljYSBlc3RvY8Ohc3RpY2FcclxudGltZV9zZXJpZXMgPSB7XHJcbiAgY29uc3QgZGF0YSA9IFtdO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbl9kYXlzOyBpKyspIHtcclxuICAgIGNvbnN0IGJhc2UgPSAxMDAgKyAoaSAqIHRyZW5kX3Nsb3BlKTtcclxuICAgIGNvbnN0IHNlYXNvbiA9IE1hdGguc2luKChpIC8gNykgKiAyICogTWF0aC5QSSkgKiBzZWFzb25fc3RyZW5ndGg7XHJcbiAgICBjb25zdCBub2lzZSA9IGpTdGF0Lm5vcm1hbC5zYW1wbGUoMCwgdm9sYXRpbGl0eSk7XHJcbiAgICBkYXRhLnB1c2goeyB0OiBpLCB5OiBNYXRoLm1heCgwLCBiYXNlICsgc2Vhc29uICsgbm9pc2UpIH0pO1xyXG4gIH1cclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLy8gMi4gUHJvbsOzc3RpY29zIHkgQXVkaXRvcsOtYSBkZSBFcnJvcmVzIE11bHRpZGltZW5zaW9uYWxcclxucmVzdWx0cyA9IHtcclxuICBjb25zdCB0ZXN0X3NpemUgPSAxNDtcclxuICBjb25zdCBoaXN0b3J5ID0gdGltZV9zZXJpZXMuc2xpY2UoMCwgLXRlc3Rfc2l6ZSk7XHJcbiAgY29uc3QgYWN0dWFscyA9IHRpbWVfc2VyaWVzLnNsaWNlKC10ZXN0X3NpemUpO1xyXG4gIGNvbnN0IGxhc3RfdmFsID0gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aCAtIDFdLnk7XHJcbiAgXHJcbiAgY29uc3QgdG90YWxfZGVtYW5kID0galN0YXQuc3VtKGFjdHVhbHMubWFwKGQgPT4gZC55KSk7XHJcbiAgXHJcbiAgLy8gQ8OhbGN1bG8gZGUgQmFzZWxpbmUgTmFpdmUgcGFyYSBlbCBNQVNFIHkgRlZBXHJcbiAgY29uc3QgbmFpdmVfZGlmZnMgPSBbXTtcclxuICBmb3IobGV0IGk9MTsgaTxoaXN0b3J5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBuYWl2ZV9kaWZmcy5wdXNoKE1hdGguYWJzKGhpc3RvcnlbaV0ueSAtIGhpc3RvcnlbaS0xXS55KSk7XHJcbiAgfVxyXG4gIGNvbnN0IG1lYW5fbmFpdmVfZXJyID0galN0YXQubWVhbihuYWl2ZV9kaWZmcyk7XHJcbiAgXHJcbiAgLy8gRXJyb3IgZGVsIE5haXZlIGVuIGVsIHBlcmlvZG8gZGUgdGVzdCBwYXJhIGVsIEZWQVxyXG4gIGNvbnN0IG5haXZlX3Rlc3RfZXJyb3JzID0gYWN0dWFscy5tYXAoZCA9PiBNYXRoLmFicyhkLnkgLSBsYXN0X3ZhbCkpO1xyXG4gIGNvbnN0IG5haXZlX3dhcGUgPSAoalN0YXQuc3VtKG5haXZlX3Rlc3RfZXJyb3JzKSAvIHRvdGFsX2RlbWFuZCkgKiAxMDA7XHJcblxyXG4gIGNvbnN0IG1vZGVscyA9IFtcclxuICAgIHsgbmFtZTogXCJOYWl2ZVwiLCBmb3JlY2FzdDogYWN0dWFscy5tYXAoKCkgPT4gbGFzdF92YWwpIH0sXHJcbiAgICB7IG5hbWU6IFwiUy1OYWl2ZVwiLCBmb3JlY2FzdDogYWN0dWFscy5tYXAoKGQsIGkpID0+IGhpc3RvcnlbaGlzdG9yeS5sZW5ndGggLSA3ICsgKGkgJSA3KV0ueSkgfSxcclxuICAgIHsgbmFtZTogXCJEcmlmdFwiLCBmb3JlY2FzdDogYWN0dWFscy5tYXAoKGQsIGkpID0+IGxhc3RfdmFsICsgKGkrMSkgKiAobGFzdF92YWwgLSBoaXN0b3J5WzBdLnkpLyhoaXN0b3J5Lmxlbmd0aC0xKSkgfVxyXG4gIF07XHJcblxyXG4gIGNvbnN0IHByb2Nlc3NlZCA9IG1vZGVscy5tYXAobSA9PiB7XHJcbiAgICBjb25zdCByYXdfZXJyb3JzID0gYWN0dWFscy5tYXAoKGQsIGkpID0+IG0uZm9yZWNhc3RbaV0gLSBkLnkpO1xyXG4gICAgY29uc3QgYWJzX2Vycm9ycyA9IHJhd19lcnJvcnMubWFwKGUgPT4gTWF0aC5hYnMoZSkpO1xyXG4gICAgY29uc3Qgc3F1YXJlZF9lcnJvcnMgPSByYXdfZXJyb3JzLm1hcChlID0+IGUgKiBlKTtcclxuICAgIFxyXG4gICAgY29uc3QgbWFlID0galN0YXQubWVhbihhYnNfZXJyb3JzKTtcclxuICAgIGNvbnN0IGJpYXMgPSBqU3RhdC5tZWFuKHJhd19lcnJvcnMpO1xyXG4gICAgY29uc3Qgcm1zZSA9IE1hdGguc3FydChqU3RhdC5tZWFuKHNxdWFyZWRfZXJyb3JzKSk7XHJcbiAgICBjb25zdCB3YXBlID0gKGpTdGF0LnN1bShhYnNfZXJyb3JzKSAvIHRvdGFsX2RlbWFuZCkgKiAxMDA7XHJcbiAgICBjb25zdCBtYXNlID0gbWFlIC8gbWVhbl9uYWl2ZV9lcnI7XHJcbiAgICBcclxuICAgIC8vIEZWQSBlbiBwdW50b3MgcG9yY2VudHVhbGVzIHJlc3BlY3RvIGFsIE5haXZlXHJcbiAgICBjb25zdCBmdmEgPSBuYWl2ZV93YXBlIC0gd2FwZTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIFwiTW9kZWxvXCI6IG0ubmFtZSwgXHJcbiAgICAgIFwiTUFFXCI6IG1hZS50b0ZpeGVkKDEpLCBcclxuICAgICAgXCJCSUFTXCI6IGJpYXMudG9GaXhlZCgxKSxcclxuICAgICAgXCJSTVNFXCI6IHJtc2UudG9GaXhlZCgxKSxcclxuICAgICAgXCJXQVBFICglKVwiOiB3YXBlLnRvRml4ZWQoMSkgKyBcIiVcIixcclxuICAgICAgXCJNQVNFXCI6IG1hc2UudG9GaXhlZCgzKSxcclxuICAgICAgXCJGVkEgKHB0cylcIjogbS5uYW1lID09PSBcIk5haXZlXCIgPyBcIjAuMFwiIDogZnZhLnRvRml4ZWQoMiksXHJcbiAgICAgIFwiSW1wYWN0b1wiOiBiaWFzID4gMCA/IFwi4pqg77iPIFNvYnJlLXN0b2NrXCIgOiBcIvCflLQgUXVpZWJyZXNcIixcclxuICAgICAgZm9yZWNhc3Q6IG0uZm9yZWNhc3QsXHJcbiAgICAgIHNjb3JlOiBtYWUsXHJcbiAgICAgIGZ2YV92YWw6IGZ2YVxyXG4gICAgfTtcclxuICB9KTtcclxuICBcclxuICBjb25zdCBiZXN0X21hZSA9IE1hdGgubWluKC4uLnByb2Nlc3NlZC5tYXAocCA9PiBwLnNjb3JlKSk7XHJcbiAgcmV0dXJuIHByb2Nlc3NlZC5tYXAocCA9PiAoe1xyXG4gICAgLi4ucCxcclxuICAgIFwiRXN0YWRvXCI6IHAuc2NvcmUgPT09IGJlc3RfbWFlID8gXCLwn4+GIEdBTkFET1JcIiA6IChwLmZ2YV92YWwgPCAwICYmIHAuTW9kZWxvICE9PSBcIk5haXZlXCIgPyBcIuKblCBEZXN0cnV5ZSBWYWxvclwiIDogXCItLS1cIilcclxuICB9KSk7XHJcbn1cclxuXHJcbi8vIDMuIFZpc3VhbGl6YWNpw7NuIGNvbiBQbG90bHlcclxuY2hhcnRCZW5jaCA9IHtcclxuICBjb25zdCBjb250YWluZXIgPSBodG1sYDxkaXYgc3R5bGU9XCJ3aWR0aDoxMDAlOyBoZWlnaHQ6NDIwcHg7XCI+PC9kaXY+YDtcclxuICBjb25zdCBhY3R1YWxzID0gdGltZV9zZXJpZXMuc2xpY2UoLTE0KTtcclxuICBcclxuICBjb25zdCB0cmFjZXMgPSBbXHJcbiAgICB7IHg6IHRpbWVfc2VyaWVzLm1hcChkID0+IGQudCksIHk6IHRpbWVfc2VyaWVzLm1hcChkID0+IGQueSksIG5hbWU6ICdSZWFsaWRhZCBIaXN0w7NyaWNhJywgbGluZToge2NvbG9yOiAnIzQ3NTU2OScsIHdpZHRoOiAzfSB9LFxyXG4gICAgLi4ucmVzdWx0cy5tYXAociA9PiAoe1xyXG4gICAgICB4OiBhY3R1YWxzLm1hcChkID0+IGQudCksXHJcbiAgICAgIHk6IHIuZm9yZWNhc3QsXHJcbiAgICAgIG5hbWU6IHJbXCJNb2RlbG9cIl0sXHJcbiAgICAgIGxpbmU6IHtkYXNoOiAnZGFzaCcsIHdpZHRoOiAyfVxyXG4gICAgfSkpXHJcbiAgXTtcclxuXHJcbiAgY29uc3QgbGF5b3V0ID0ge1xyXG4gICAgdGl0bGU6ICdCZW5jaG1hcmtpbmcgZGUgTW9kZWxvcyBJbmdlbnVvcycsXHJcbiAgICB0ZW1wbGF0ZTogJ3Bsb3RseV93aGl0ZScsIFxyXG4gICAgbWFyZ2luOiB7dDo1MCwgYjo1MCwgbDo1MCwgcjozMH0sXHJcbiAgICBob3Zlcm1vZGU6ICd4IHVuaWZpZWQnLFxyXG4gICAgbGVnZW5kOiB7b3JpZW50YXRpb246ICdoJywgeTogLTAuMn0sXHJcbiAgICB4YXhpczogeyB0aXRsZTogJ1RpZW1wbyAoRMOtYXMpJyB9LFxyXG4gICAgeWF4aXM6IHsgdGl0bGU6ICdEZW1hbmRhIChVbmlkYWRlcyknIH1cclxuICB9O1xyXG5cclxuICBQbG90bHkubmV3UGxvdChjb250YWluZXIsIHRyYWNlcywgbGF5b3V0LCB7cmVzcG9uc2l2ZTogdHJ1ZSwgZGlzcGxheU1vZGVCYXI6IGZhbHNlfSk7XHJcbiAgcmV0dXJuIGNvbnRhaW5lcjtcclxufVxyXG5cclxuLy8gNC4gVGFibGEgZGUgUmVzdWx0YWRvcyBBdWRpdGFkb3MgY29uIEZWQVxyXG5JbnB1dHMudGFibGUocmVzdWx0cy5tYXAoKHtmb3JlY2FzdCwgc2NvcmUsIGZ2YV92YWwsIC4uLnJlc3R9KSA9PiByZXN0KSlcclxuXHJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbl9kYXlzJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3ZvbGF0aWxpdHknKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndHJlbmRfc2xvcGUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnc2Vhc29uX3N0cmVuZ3RoJykifV19
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./cap-4-metricas-error.html" class="pagination-link" aria-label="4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">4. ¿Qué tan mal estamos? Estableciendo el Baseline y Métricas de Error</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cap-6-suavizamiento-exponencial.html" class="pagination-link" aria-label="6. Suavizando la Curva - La Inteligencia Estadística">
        <span class="nav-page-text"><span class="chapter-title">6. Suavizando la Curva - La Inteligencia Estadística</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2026 Nicolás A. Bravo</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/edit/main/cap-5-pronostico-ingenuo.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/nicobravo933-Planner/nicobravo933-Planner/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Este libro fue creado con <a href="https://quarto.org/">Quarto</a>. Visita mi <a href="https://github.com/nicobravo933-Planner">repositorio GitHub</a>.</p>
</div>
  </div>
</footer>




</body></html>